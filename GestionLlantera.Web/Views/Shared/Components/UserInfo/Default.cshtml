@using GestionLlantera.Web.ViewComponents
@model UserInfoViewModel

<!-- DEBUG: Mostrar información del modelo -->
<div style="background: red; color: white; padding: 5px; font-size: 12px;">
    DEBUG UserInfo - Usuario: @Model.UserName - Roles: @string.Join(", ", Model.Roles ?? new List<string>())
</div>

<div class="dropdown">
    <button class="btn btn-outline-light dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <i class="bi bi-person-circle me-2"></i>
        @Model.UserName
    </button>
    <ul class="dropdown-menu" aria-labelledby="userDropdown">
        <li><h6 class="dropdown-header">Roles</h6></li>
        @if (Model.Roles?.Any() == true)
        {
            @foreach (var rol in Model.Roles)
            {
                <li><span class="dropdown-item-text"><i class="bi bi-shield-check me-2"></i>@rol</span></li>
            }
        }
        else
        {
            <li><span class="dropdown-item-text text-muted">Sin roles asignados</span></li>
        }
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="@Url.Action("Logout", "Account")"><i class="bi bi-box-arrow-right me-2"></i>Cerrar Sesión</a></li>
    </ul>
</div>
