@* Partial View para mostrar alertas del sistema *@

<!-- Alerta de Acceso Restringido -->
@if (TempData["AccessDenied"] != null)
{
    <div class="alert alert-warning alert-dismissible fade show border-warning shadow-sm" role="alert">
        <div class="d-flex align-items-start">
            <div class="alert-icon me-3">
                <i class="bi bi-shield-exclamation fs-3 text-warning"></i>
            </div>
            <div class="flex-grow-1">
                <h6 class="alert-heading mb-2 fw-bold">
                    <i class="bi bi-lock-fill me-1"></i>
                    Acceso No Autorizado
                </h6>
                <p class="mb-2">@TempData["AccessDenied"]</p>

                @if (TempData["AccessDeniedPermiso"] != null)
                {
                    <div class="alert-details bg-light rounded p-2 mb-2">
                        <small class="text-muted d-block">
                            <i class="bi bi-info-circle me-1"></i>
                            <strong>Permiso requerido:</strong>
                            <code class="text-dark">@TempData["AccessDeniedPermiso"]</code>
                        </small>
                        <small class="text-muted d-block">
                            <i class="bi bi-clock me-1"></i>
                            <strong>Hora del intento:</strong> @TempData["AccessDeniedTimestamp"]
                        </small>
                    </div>
                }

                <div class="alert-actions">
                    <small class="text-muted">
                        💡 <strong>¿Necesitas acceso a esta función?</strong><br>
                        <a href="mailto:admin@tuempresa.com" class="btn btn-sm btn-outline-warning mt-1">
                            <i class="bi bi-envelope me-1"></i>
                            Solicitar Permisos
                        </a>
                    </small>
                </div>
            </div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>
}

<!-- Alertas de Éxito -->
@if (TempData["Success"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="bi bi-check-circle-fill me-2"></i>
        @TempData["Success"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<!-- Alertas de Error -->
@if (TempData["Error"] != null && TempData["AccessDenied"] == null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i>
        @TempData["Error"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}

<!-- Alertas de Información -->
@if (TempData["Info"] != null)
{
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        <i class="bi bi-info-circle-fill me-2"></i>
        @TempData["Info"]
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
}