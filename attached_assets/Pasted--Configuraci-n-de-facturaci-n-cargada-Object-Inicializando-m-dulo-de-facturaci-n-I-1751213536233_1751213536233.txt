 ğŸ“‹ ConfiguraciÃ³n de facturaciÃ³n cargada: Object
 ğŸš€ Inicializando mÃ³dulo de facturaciÃ³n
 ğŸš€ === INICIO inicializarFacturacion ===
 ğŸ” Cargando permisos del usuario...
 ğŸ” Iniciando carga de permisos...
 ğŸ” window.facturaConfig disponible: true
 ğŸ” Contenido facturaConfig: Object
 ğŸ” Permisos disponibles en facturaConfig.Permisos:
 ğŸ”   - "puedeCrearFacturas": false
 ğŸ”   - "puedeCompletarFacturas": false
 ğŸ”   - "puedeEditarFacturas": false
 ğŸ”   - "puedeAnularFacturas": false
 ğŸ”   - "esAdmin": false
 âŒ Permiso "Crear Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:63 âŒ Permiso "Completar Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:63 âŒ Permiso "Editar Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:63 âŒ Permiso "Anular Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:63 âŒ Permiso "Admin" no encontrado en ninguna variaciÃ³n
facturacion.js:63 âŒ Permiso "Administrador" no encontrado en ninguna variaciÃ³n
facturacion.js:99 âœ… Permisos obtenidos desde facturaConfig: Object
facturacion.js:129 ğŸ” Permisos finales cargados: Object
facturacion.js:150 ğŸ¯ Configurando interfaz segÃºn permisos: Object
facturacion.js:187 ğŸ”’ Usuario sin permisos de facturaciÃ³n
facturacion.js:188 ğŸ” Debug permisos: Object
facturacion.js:210 ğŸš€ Inicializando modales...
facturacion.js:214 ğŸš€ Configurando eventos...
facturacion.js:218 ğŸš€ Actualizando totales...
facturacion.js:2844 ğŸ”„ Estado botÃ³n finalizar actualizado: Object
facturacion.js:225 ğŸš€ Iniciando carga de productos iniciales...
facturacion.js:2637 ğŸ“¦ === INICIO cargarProductosIniciales ===
facturacion.js:2638 ğŸ“¦ cargaInicialCompletada: false
facturacion.js:2654 ğŸ“¦ Iniciando carga de productos iniciales...
facturacion.js:402 ğŸ” === INICIO buscarProductos ===
facturacion.js:403 ğŸ” CONTADOR DE LLAMADAS: 1
facturacion.js:404 ğŸ” TÃ©rmino recibido: ""
facturacion.js:405 ğŸ” busquedaEnProceso: false
facturacion.js:406 ğŸ” ultimaBusqueda: ""
facturacion.js:421 ğŸ” Iniciando bÃºsqueda vÃ¡lida...
facturacion.js:228 âœ… FacturaciÃ³n inicializada correctamente
facturacion.js:229 ğŸš€ === FIN inicializarFacturacion ===
api/permisos/funciones:1  Failed to load resource: the server responded with a status of 404 ()
DiagnosticoPermisos/mis-permisos:1  Failed to load resource: the server responded with a status of 404 ()
facturacion.js:443 ğŸ“‹ Respuesta del servidor recibida
facturacion.js:446 âœ… Se encontraron 4 productos disponibles
facturacion.js:485 ğŸ”„ === INICIO mostrarResultadosProductos ===
facturacion.js:486 ğŸ”„ CONTADOR DE LLAMADAS: 1
facturacion.js:487 ğŸ”„ Productos recibidos: 4
facturacion.js:522 ğŸ”„ Construyendo HTML para 4 productos
facturacion.js:536 ğŸ–¼ï¸ Procesando imÃ¡genes para producto: Llanta Agregar Marca Agrega Modelo
facturacion.js:537 ğŸ–¼ï¸ Datos del producto: Object
facturacion.js:550 ğŸ–¼ï¸ ImÃ¡genes desde imagenesProductos: Array(1)
facturacion.js:555 ğŸ–¼ï¸ ImÃ¡genes desde imagenesUrls: Array(1)
facturacion.js:574 ğŸ–¼ï¸ URL original: https://localhost:7273/uploads/productos/811e75d9-9874-4a1d-9172-046a0fb6449a_abue.png
facturacion.js:586 ğŸ–¼ï¸ URL final construida: https://localhost:7273/uploads/productos/811e75d9-9874-4a1d-9172-046a0fb6449a_abue.png
facturacion.js:536 ğŸ–¼ï¸ Procesando imÃ¡genes para producto: Llanta Kumho Mobile
facturacion.js:537 ğŸ–¼ï¸ Datos del producto: Object
facturacion.js:550 ğŸ–¼ï¸ ImÃ¡genes desde imagenesProductos: Array(1)
facturacion.js:555 ğŸ–¼ï¸ ImÃ¡genes desde imagenesUrls: Array(1)
facturacion.js:574 ğŸ–¼ï¸ URL original: https://localhost:7273/uploads/productos/2e87b201-a50f-46fd-951e-daf5749b973c_deca639fa6ea47f09e52d3cd99927720-free__1_-removebg-preview.png
facturacion.js:586 ğŸ–¼ï¸ URL final construida: https://localhost:7273/uploads/productos/2e87b201-a50f-46fd-951e-daf5749b973c_deca639fa6ea47f09e52d3cd99927720-free__1_-removebg-preview.png
facturacion.js:536 ğŸ–¼ï¸ Procesando imÃ¡genes para producto: Llanta Test
facturacion.js:537 ğŸ–¼ï¸ Datos del producto: Object
facturacion.js:550 ğŸ–¼ï¸ ImÃ¡genes desde imagenesProductos: Array(1)
facturacion.js:555 ğŸ–¼ï¸ ImÃ¡genes desde imagenesUrls: Array(1)
facturacion.js:574 ğŸ–¼ï¸ URL original: https://localhost:7273/uploads/productos/abef5f29-6fb0-4865-843b-5454e4b374ef_Slam_R100_3-removebg-preview.png
facturacion.js:586 ğŸ–¼ï¸ URL final construida: https://localhost:7273/uploads/productos/abef5f29-6fb0-4865-843b-5454e4b374ef_Slam_R100_3-removebg-preview.png
facturacion.js:536 ğŸ–¼ï¸ Procesando imÃ¡genes para producto: Llanta Firestone Extreme
facturacion.js:537 ğŸ–¼ï¸ Datos del producto: Object
facturacion.js:550 ğŸ–¼ï¸ ImÃ¡genes desde imagenesProductos: Array(3)
facturacion.js:555 ğŸ–¼ï¸ ImÃ¡genes desde imagenesUrls: Array(3)
facturacion.js:574 ğŸ–¼ï¸ URL original: https://localhost:7273/uploads/productos/19020e25-aa4e-4914-a654-8f9b50b61128_ss1-removebg-preview.png
facturacion.js:586 ğŸ–¼ï¸ URL final construida: https://localhost:7273/uploads/productos/19020e25-aa4e-4914-a654-8f9b50b61128_ss1-removebg-preview.png
facturacion.js:685 ğŸ”„ Actualizando DOM (longitud HTML: 18712 caracteres)
facturacion.js:718 ğŸ”„ === FIN mostrarResultadosProductos ===
facturacion.js:463 ğŸ“¦ Carga inicial marcada como completada despuÃ©s de primera bÃºsqueda exitosa
facturacion.js:466 ğŸ“¦ Productos mostrados exitosamente
facturacion.js:479 ğŸ” === FIN buscarProductos ===
facturacion.js:2670 ğŸ“¦ BÃºsqueda inicial ejecutada
facturacion.js:2672 ğŸ“¦ === FIN cargarProductosIniciales (exitosa) ===
811e75d9-9874-4a1d-9172-046a0fb6449a_abue.png:1  Failed to load resource: the server responded with a status of 404 ()
facturacion.js:807 ğŸ–¼ï¸ Procesando imÃ¡genes para modal de producto: Llanta Test
facturacion.js:824 ğŸ–¼ï¸ URL original en modal: https://localhost:7273/uploads/productos/abef5f29-6fb0-4865-843b-5454e4b374ef_Slam_R100_3-removebg-preview.png
facturacion.js:839 ğŸ–¼ï¸ URL final en modal: https://localhost:7273/uploads/productos/abef5f29-6fb0-4865-843b-5454e4b374ef_Slam_R100_3-removebg-preview.png
facturacion.js:1031 ğŸ›’ Agregando producto a venta: Object
facturacion.js:2096 SUCCESS: Producto agregado - Llanta Test agregado a la venta
facturacion.js:2844 ğŸ”„ Estado botÃ³n finalizar actualizado: Object
facturacion.js:2096 SUCCESS: Producto agregado - 1 unidad de Llanta Test agregadas
facturacion.js:724 ğŸ‘¥ Buscando clientes: "ulise"
facturacion.js:2844 ğŸ”„ Estado botÃ³n finalizar actualizado: Object
facturacion.js:797 Cliente seleccionado: Object
facturacion.js:1400 ğŸ¯ Configurando modal con permisos: Object
facturacion.js:63 âŒ Permiso "Crear Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:1428 âš ï¸ No se detectaron permisos especÃ­ficos, habilitando como colaborador por defecto
facturacion.js:1436 ğŸ¯ Estado final del botÃ³n: Object
facturacion.js:63 âŒ Permiso "Crear Factura" no encontrado en ninguna variaciÃ³n
facturacion.js:1542 ğŸ“ Procesando como colaborador - Factura pendiente para caja
facturacion.js:2766 âš ï¸ No se pudo obtener informaciÃ³n del usuario, usando valores por defecto
obtenerUsuarioActual @ facturacion.js:2766
procesarVentaFinal @ facturacion.js:1553
(anonymous) @ facturacion.js:395
dispatch @ jquery.min.js:2
S.event.add.v.handle @ jquery.min.js:2
facturacion.js:1556 ğŸ‘¤ Usuario actual para factura: Object
facturacion.js:1596 ğŸ“‹ Datos de factura preparados: Object
facturacion.js:1615 âœ… Factura creada: Object
facturacion.js:1749 ğŸ“‹ Factura pendiente - NO se ajusta stock automÃ¡ticamente
facturacion.js:2844 ğŸ”„ Estado botÃ³n finalizar actualizado: Object
facturacion.js:1626 ğŸ” DEBUGGING - Estructura completa de resultadoFactura: {
  "success": true,
  "data": {
    "facturaId": [],
    "numeroFactura": [],
    "estado": [],
    "puedeCompletar": [],
    "message": [],
    "timestamp": []
  },
  "message": "Factura creada exitosamente"
}
facturacion.js:1627 ğŸ” DEBUGGING - resultadoFactura.numeroFactura: undefined
facturacion.js:1628 ğŸ” DEBUGGING - resultadoFactura.data: Object
facturacion.js:1643 ğŸ”¢ NÃºmero de factura extraÃ­do: Array(0)
facturacion.js:2854 ğŸ“‹ === MODAL FACTURA PENDIENTE ===
facturacion.js:2855 ğŸ“‹ Datos recibidos: {
  "numeroFactura": [],
  "facturaId": [],
  "estado": [],
  "message": "Factura creada exitosamente",
  "datosCompletos": {
    "success": true,
    "data": {
      "facturaId": [],
      "numeroFactura": [],
      "estado": [],
      "puedeCompletar": [],
      "message": [],
      "timestamp": []
    },
    "message": "Factura creada exitosamente"
  }
}
facturacion.js:2872 ğŸ”¢ Primer intento de extracciÃ³n: Array(0)
facturacion.js:2896 ğŸ”¢ *** NÃšMERO DE FACTURA FINAL: Array(0) ***
