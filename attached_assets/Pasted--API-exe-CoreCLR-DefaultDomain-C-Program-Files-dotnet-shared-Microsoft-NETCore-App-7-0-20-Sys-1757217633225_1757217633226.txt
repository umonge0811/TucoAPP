'API.exe' (CoreCLR: DefaultDomain): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.CoreLib.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\API.dll' cargado. Símbolos cargados.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'c:\program files\microsoft visual studio\2022\community\common7\ide\extensions\microsoft\web tools\projectsystem\net7.0\Microsoft.WebTools.ApiEndpointDiscovery.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Linq.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\SDK\9.0.302\DotnetTools\dotnet-watch\9.0.302-servicing.25319.7\tools\net9.0\any\middleware\Microsoft.AspNetCore.Watch.BrowserRefresh.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\IDE\Extensions\Microsoft\Web Tools\Browser Link\Microsoft.WebTools.BrowserLink.Net.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Hosting.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Routing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Features.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.DependencyInjection.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Tuco.Clases.dll' cargado. Símbolos cargados.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Options.ConfigurationExtensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Caching.Memory.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authorization.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Options.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Cors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.EntityFrameworkCore.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.ApiExplorer.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Swashbuckle.AspNetCore.SwaggerGen.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.AspNetCore.Authentication.JwtBearer.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authorization.Policy.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HttpsPolicy.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.StaticFiles.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Console.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Features.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Physical.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Swashbuckle.AspNetCore.Swagger.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Swashbuckle.AspNetCore.SwaggerUI.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Hosting.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.EnvironmentVariables.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.FileExtensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Binder.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.IO.FileSystem.Watcher.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.Concurrent.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Memory.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Overlapped.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.InteropServices.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\Microsoft.Win32.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Encoding.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Numerics.Vectors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.UserSecrets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Razor.Runtime.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.EventLog.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Configuration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Console.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: DefaultDomain): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.CoreLib.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\GestionLlantera.Web.dll' cargado. Símbolos cargados.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'c:\program files\microsoft visual studio\2022\community\common7\ide\extensions\microsoft\web tools\projectsystem\net7.0\Microsoft.WebTools.ApiEndpointDiscovery.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Linq.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\SDK\9.0.302\DotnetTools\dotnet-watch\9.0.302-servicing.25319.7\tools\net9.0\any\middleware\Microsoft.AspNetCore.Watch.BrowserRefresh.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\IDE\Extensions\Microsoft\Web Tools\Browser Link\Microsoft.WebTools.BrowserLink.Net.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Hosting.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Debug.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.EventSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.Tracing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.DependencyInjection.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Routing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Transport.Quic.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Quic.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Features.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.DependencyInjection.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\Microsoft.Win32.Registry.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.IIS.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.IISIntegration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Caching.Memory.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Session.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Antiforgery.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Composite.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Encodings.Web.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Intrinsics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.Cookies.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.DiagnosticSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Connections.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Options.ConfigurationExtensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Http.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authorization.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.Server.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authorization.Policy.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HostFiltering.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HttpOverrides.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HttpsPolicy.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.StaticFiles.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.ObjectPool.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Diagnostics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Routing.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ObjectModel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Caching.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Hosting.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Razor.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.EnvironmentVariables.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Loader.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Physical.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Claims.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Cors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.FileExtensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.DataAnnotations.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Options.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.RazorPages.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Razor.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Binder.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.ViewFeatures.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Components.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.IO.FileSystem.Watcher.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Linq.Expressions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.Concurrent.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.JSInterop.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Components.Web.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Memory.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.DataProtection.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.DataProtection.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Overlapped.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Cryptography.Internal.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.InteropServices.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Antiforgery.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.WebEncoders.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\Microsoft.Win32.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.TagHelpers.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Encoding.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.OpenApi.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Numerics.Vectors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Configuration.UserSecrets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Razor.Runtime.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Localization.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.EventLog.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Configuration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Console.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.Debug.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Logging.EventSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Thread.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\System.Diagnostics.EventLog.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.Specialized.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.TypeConverter.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.Tracing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.DependencyInjection.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Transport.Quic.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Quic.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Sockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\Microsoft.Win32.Registry.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.ThreadPool.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.IIS.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.IISIntegration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\System.IO.Pipelines.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Composite.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Encodings.Web.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Emit.Lightweight.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Intrinsics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Emit.ILGeneration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\netstandard.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.DiagnosticSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Net.Http.Headers.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.ApiExplorer.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Uri.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Connections.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Numerics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Hosting.Server.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HostFiltering.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.HttpOverrides.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.ObjectPool.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Routing.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ObjectModel.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.EntityFrameworkCore.Relational.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Razor.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Loader.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Authentication.Core.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Metadata.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Claims.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.RegularExpressions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.Cors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Cors.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileSystemGlobbing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.DataAnnotations.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Html.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.ViewFeatures.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Components.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Linq.Expressions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.Annotations.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.JSInterop.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Components.Web.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.DataProtection.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.DataProtection.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Cryptography.Internal.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.WebEncoders.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Razor.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Caching.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Xml.XDocument.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Mvc.TagHelpers.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Xml.Linq.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Xml.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.Localization.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Console.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Thread.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\System.Diagnostics.EventLog.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.Specialized.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.IO.MemoryMappedFiles.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Diagnostics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.TypeConverter.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'Anonymously Hosted DynamicMethods Assembly' cargado. 
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Sockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileProviders.Embedded.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.ThreadPool.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\System.IO.Pipelines.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Diagnostics.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Emit.Lightweight.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Emit.ILGeneration.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.NonGeneric.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Reflection.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Security.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Net.Http.Headers.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Http.Features.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Uri.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Numerics.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.Hosting.Lifetime: Information: Now listening on: https://localhost:7273
Microsoft.Hosting.Lifetime: Information: Now listening on: http://localhost:5049
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Tuco.Clases.dll' cargado. Símbolos cargados.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Html.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.Hosting.Lifetime: Information: Application started. Press Ctrl+C to shut down.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\itextsharp.dll' cargado. El módulo se compiló sin símbolos.
Microsoft.Hosting.Lifetime: Information: Hosting environment: Development
Microsoft.Hosting.Lifetime: Information: Content root path: C:\Users\UMA08\source\repos\Tuco\API
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\mscorlib.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Metadata.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.Extensions.FileSystemGlobbing.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.Annotations.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Xml.XDocument.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Xml.Linq.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Private.Xml.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.IO.MemoryMappedFiles.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Extensions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.Diagnostics.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.NonGeneric.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Security.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.Hosting.Lifetime: Information: Now listening on: https://localhost:7038
Microsoft.Hosting.Lifetime: Information: Now listening on: http://localhost:5244
Microsoft.Hosting.Lifetime: Information: Application started. Press Ctrl+C to shut down.
Microsoft.Hosting.Lifetime: Information: Hosting environment: Development
Microsoft.Hosting.Lifetime: Information: Content root path: C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Verbose logs are written to:
C:\Users\UMA08\AppData\Local\Temp\visualstudio-js-debugger.txt
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Principal.Windows.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Channels.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.WebSockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Tasks.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.NameResolution.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Verbose logs are written to:
C:\Users\UMA08\AppData\Local\Temp\visualstudio-js-debugger.txt
CSS Hot Reload ignoring https://localhost:7273/swagger/swagger-ui.css because it was inaccessible or had more than 7000 rules.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Principal.Windows.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Channels.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.WebSockets.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Threading.Tasks.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.NameResolution.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\System.IdentityModel.Tokens.Jwt.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Microsoft.IdentityModel.Tokens.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Xml.ReaderWriter.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Microsoft.IdentityModel.Logging.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'Anonymously Hosted DynamicMethods Assembly' cargado. 
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.WebUtilities.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Módulo de galería cargado correctamente
🎨 Inicializando galería...
📷 Encontradas 6 imágenes de galería
🖼️ Configurando imagen 1: Área de Tramado
🖼️ Configurando imagen 2: Tramado Carga Pesada
🖼️ Configurando imagen 3: Proceso de Tramado
🖼️ Configurando imagen 4: Balanceo y Cambio de Llantas
🖼️ Configurando imagen 5: Stock de Llantas Nuevas
🖼️ Configurando imagen 6: Instalaciones
✅ Galería inicializada correctamente
CSS Hot Reload ignoring https://localhost:7038/lib/bootstrap/dist/css/bootstrap.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css because it was inaccessible or had more than 7000 rules.
Error al cargar conteo: SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON {stack: `SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON`, message: `Unexpected token '<', "<!DOCTYPE "... is not valid JSON`}

Módulo de galería cargado correctamente
🎨 Inicializando galería...
📷 Encontradas 6 imágenes de galería
🖼️ Configurando imagen 1: Área de Tramado
🖼️ Configurando imagen 2: Tramado Carga Pesada
🖼️ Configurando imagen 3: Proceso de Tramado
🖼️ Configurando imagen 4: Balanceo y Cambio de Llantas
🖼️ Configurando imagen 5: Stock de Llantas Nuevas
🖼️ Configurando imagen 6: Instalaciones
✅ Galería inicializada correctamente
Error al cargar conteo: SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON {stack: `SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON`, message: `Unexpected token '<', "<!DOCTYPE "... is not valid JSON`}

CSS Hot Reload ignoring https://localhost:7038/lib/bootstrap/dist/css/bootstrap.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css because it was inaccessible or had more than 7000 rules.
Error al cargar conteo: SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON {stack: `SyntaxError: Unexpected token '<', "<!DOCTYPE "... is not valid JSON`, message: `Unexpected token '<', "<!DOCTYPE "... is not valid JSON`}

CSS Hot Reload ignoring https://localhost:7038/lib/bootstrap/dist/css/bootstrap.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css because it was inaccessible or had more than 7000 rules.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.Http.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
GestionLlantera.Web.Services.AuthService: Information: 🌐 URL construida: https://localhost:7273/api/auth/login
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request POST https://localhost:7273/api/auth/login
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request POST https://localhost:7273/api/auth/login
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\System.IdentityModel.Tokens.Jwt.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.Tokens.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Xml.ReaderWriter.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.Protocols.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.Protocols.OpenIdConnect.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.JsonWebTokens.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.Logging.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Collections.Immutable.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.EntityFrameworkCore.SqlServer.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Data.Common.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.EntityFrameworkCore.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Transactions.Local.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App\7.0.20\Microsoft.AspNetCore.WebUtilities.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\BCrypt.Net-Next.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Linq.Queryable.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.NetworkInformation.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.EntityFrameworkCore.Model.Validation: Warning: The 'bool' property 'Activo' on entity type 'Anuncio' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
Microsoft.EntityFrameworkCore.Model.Validation: Warning: The 'bool' property 'EsVisible' on entity type 'Notificacion' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
Microsoft.EntityFrameworkCore.Model.Validation: Warning: The 'bool' property 'Activo' on entity type 'Proveedore' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
Microsoft.EntityFrameworkCore.Model.Validation: Warning: The 'bool' property 'EstaActiva' on entity type 'SesionUsuario' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead, so that the default will only be used for inserts when the property value is 'null'.
Microsoft.EntityFrameworkCore.Model.Validation: Warning: No store type was specified for the decimal property 'Total' on entity type 'Factura'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\runtimes\win\lib\net6.0\Microsoft.Data.SqlClient.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.StackTrace.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\System.Configuration.ConfigurationManager.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.Process.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.InteropServices.RuntimeInformation.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Net.WebClient.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.ComponentModel.EventBasedAsync.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.Algorithms.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.Identity.Client.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.Encoding.CodePages.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.TraceSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
El subproceso 44096 terminó con código 0 (0x0).
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.SqlServer.Server.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (27ms) [Parameters=[@__request_Email_0='?' (Size = 100) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[UsuarioID], [u].[Activo], [u].[Contrasena], [u].[Email], [u].[EsTopVendedor], [u].[FechaCreacion], [u].[FechaExpiracionToken], [u].[NombreUsuario], [u].[PropositoToken], [u].[Token]
FROM [Usuarios] AS [u]
WHERE [u].[Email] = @__request_Email_0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (3ms) [Parameters=[@__usuario_UsuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [r].[NombreRol]
FROM [UsuarioRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[RolID]
WHERE [u].[UsuarioId] = @__usuario_UsuarioId_0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[NombrePermiso]
FROM [RolPermisos] AS [r]
INNER JOIN [Roles] AS [r0] ON [r].[RolID] = [r0].[RolID]
INNER JOIN [Permisos] AS [p] ON [r].[PermisoID] = [p].[PermisoID]
WHERE 0 = 1
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__usuario_UsuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[NombrePermiso]
FROM [UsuarioPermiso] AS [u]
INNER JOIN [Permisos] AS [p] ON [u].[PermisoID] = [p].[PermisoID]
WHERE [u].[UsuarioID] = @__usuario_UsuarioId_0
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.X509Certificates.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'API.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\API\bin\Release\net7.0\Microsoft.IdentityModel.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 255), @p4='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SesionUsuario] ([EstaActiva], [FechaHoraInicio], [FechaInvalidacion], [TokenHash], [UsuarioID])
OUTPUT INSERTED.[SesionID]
VALUES (@p0, @p1, @p2, @p3, @p4);
AuthController: Information: ✅ Sesión registrada para usuario admin@llantasymastc.com (ID: 17)
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 1725.9303ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 1733.2022ms - 200
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Microsoft.IdentityModel.JsonWebTokens.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Text.RegularExpressions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Microsoft.IdentityModel.Abstractions.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Security.Cryptography.X509Certificates.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
GestionLlantera.Web.Controllers.AccountController: Information: Login exitoso para usuario: admin@llantasymastc.com
GestionLlantera.Web.Services.PermisosService: Information: 🧹 Limpiando caché completo de permisos
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\Microsoft.CSharp.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
GestionLlantera.Web.Controllers.DashboardController: Information: 📊 Cargando página principal del dashboard
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Controllers.DashboardController: Information: 👤 ID del usuario actual: 17
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\bin\Release\net7.0\Newtonsoft.Json.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Crear%20Anuncios
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Crear%20Anuncios
PermisosController: Information: 🔍 Verificando permiso Crear Anuncios para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Crear Anuncios'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Crear Anuncios'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [r].[NombreRol]
FROM [UsuarioRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[RolID]
WHERE [u].[UsuarioId] = @__userId_Value_0
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: 🔍 No encontrado en caché, consultando base de datos...
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[NombrePermiso]
FROM [UsuarioRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RolId] = [r].[RolID]
INNER JOIN [RolPermisos] AS [r0] ON [r].[RolID] = [r0].[RolID]
INNER JOIN [Permisos] AS [p] ON [r0].[PermisoID] = [p].[PermisoID]
WHERE [u].[UsuarioId] = @__userId_0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [p].[NombrePermiso]
FROM [UsuarioPermiso] AS [u]
INNER JOIN [Permisos] AS [p] ON [u].[PermisoID] = [p].[PermisoID]
WHERE [u].[UsuarioID] = @__userId_0
API.ServicesAPI.PermisosService: Information: Usuario 17 tiene 57 permisos: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
API.ServicesAPI.PermisosService: Information: ✅ Permisos del usuario 17 cargados en caché
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Crear Anuncios': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Crear Anuncios'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 94.677ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 97.2614ms - 200
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Serialization.Formatters.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Diagnostics.TraceSource.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Runtime.Serialization.Primitives.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
'GestionLlantera.Web.exe' (CoreCLR: clrhost): 'C:\Program Files\dotnet\shared\Microsoft.NETCore.App\7.0.20\System.Data.Common.dll' cargado. Carga de símbolos deshabilitada por el parámetro Incluir/Excluir.
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Facturaci%C3%B3n
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Facturaci%C3%B3n
PermisosController: Information: 🔍 Verificando permiso Ver Facturación para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Facturación'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Facturación': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 49.2379ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 51.8433ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Productos
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Productos
PermisosController: Information: 🔍 Verificando permiso Ver Productos para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Productos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Productos'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Productos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Productos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 20.7533ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 23.0567ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Entregar%20Pendientes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Entregar%20Pendientes
PermisosController: Information: 🔍 Verificando permiso Entregar Pendientes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Entregar Pendientes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Entregar Pendientes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Entregar Pendientes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Entregar Pendientes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.473ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.905ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Clientes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Clientes
PermisosController: Information: 🔍 Verificando permiso Ver Clientes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Clientes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Clientes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.1217ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.5468ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Reportes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Reportes
PermisosController: Information: 🔍 Verificando permiso Ver Reportes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Reportes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Reportes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Reportes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Reportes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.934ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.0379ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Configuracion%20Sistema
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Configuracion%20Sistema
PermisosController: Information: 🔍 Verificando permiso Configuracion Sistema para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Configuracion Sistema'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Configuracion Sistema'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Configuracion Sistema': False
API.ServicesAPI.PermisosService: Information: 🔍 Variaciones encontradas: []
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 NO TIENE permiso 'Configuracion Sistema'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: False
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.3491ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.6767ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Inventario
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Inventario
PermisosController: Information: 🔍 Verificando permiso Menu_Inventario para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Inventario'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Inventario'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Inventario': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Inventario'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.2555ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.7807ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_VerProductos
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_VerProductos
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_VerProductos para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_VerProductos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_VerProductos'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_VerProductos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_VerProductos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.5953ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.8676ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_AgregarProductos
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_AgregarProductos
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_AgregarProductos para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_AgregarProductos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_AgregarProductos'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_AgregarProductos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_AgregarProductos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.3653ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.7854ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ProgramarInventario
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ProgramarInventario
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_ProgramarInventario para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_ProgramarInventario'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_ProgramarInventario'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_ProgramarInventario': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_ProgramarInventario'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.2883ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.6147ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_HistorialInventario
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_HistorialInventario
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_HistorialInventario para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_HistorialInventario'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_HistorialInventario'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_HistorialInventario': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_HistorialInventario'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 16.7651ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.1064ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Ventas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Ventas
PermisosController: Information: 🔍 Verificando permiso Menu_Ventas para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Ventas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Ventas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Ventas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Ventas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.0418ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.0199ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_Clientes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_Clientes
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_Clientes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_Clientes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_Clientes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.6427ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.0293ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_Facturaci%C3%B3n
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_Facturaci%C3%B3n
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_Facturación para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_Facturación'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_Facturación': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 19.0576ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.4678ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_EntregasPendientes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_EntregasPendientes
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_EntregasPendientes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_EntregasPendientes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_EntregasPendientes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_EntregasPendientes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_EntregasPendientes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.8313ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.9272ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Servicios
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Servicios
PermisosController: Information: 🔍 Verificando permiso Menu_Servicios para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Servicios'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Servicios'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Servicios': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Servicios'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.952ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.4949ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Proveedores
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Proveedores
PermisosController: Information: 🔍 Verificando permiso Menu_Proveedores para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Proveedores'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Proveedores'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Proveedores': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Proveedores'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.95ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.1694ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_GestionProveedores
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_GestionProveedores
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_GestionProveedores para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_GestionProveedores'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_GestionProveedores'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_GestionProveedores': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_GestionProveedores'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.4295ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.5215ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_PedidosProveedores
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_PedidosProveedores
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_PedidosProveedores para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_PedidosProveedores'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_PedidosProveedores'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_PedidosProveedores': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_PedidosProveedores'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.4266ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.609ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Reportes
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Reportes
PermisosController: Information: 🔍 Verificando permiso Menu_Reportes para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Reportes'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Reportes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Reportes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Reportes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.7445ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.0101ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ExportarExcel
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ExportarExcel
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_ExportarExcel para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_ExportarExcel'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_ExportarExcel'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_ExportarExcel': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_ExportarExcel'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.2806ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.1712ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ExportarPDF
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ExportarPDF
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_ExportarPDF para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_ExportarPDF'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_ExportarPDF'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_ExportarPDF': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_ExportarPDF'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.5583ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.9082ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ReportesVentas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_ReportesVentas
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_ReportesVentas para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_ReportesVentas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_ReportesVentas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_ReportesVentas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_ReportesVentas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.6785ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.2405ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Configuraci%C3%B3n
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_Configuraci%C3%B3n
PermisosController: Information: 🔍 Verificando permiso Menu_Configuración para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_Configuración'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_Configuración'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_Configuración': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_Configuración'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.576ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.1802ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_RolesPermisos
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_RolesPermisos
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_RolesPermisos para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_RolesPermisos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_RolesPermisos'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_RolesPermisos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_RolesPermisos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.986ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.3334ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_GestionUsuarios
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_GestionUsuarios
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_GestionUsuarios para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_GestionUsuarios'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_GestionUsuarios'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_GestionUsuarios': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_GestionUsuarios'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.9019ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.4589ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_HerramientasSistemaDEV
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_HerramientasSistemaDEV
PermisosController: Information: 🔍 Verificando permiso Menu_HerramientasSistemaDEV para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_HerramientasSistemaDEV'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_HerramientasSistemaDEV'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_HerramientasSistemaDEV': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Menu_HerramientasSistemaDEV'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.2959ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 19.6167ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_DiagnosticoPermisosDEV
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_DiagnosticoPermisosDEV
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_DiagnosticoPermisosDEV para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_DiagnosticoPermisosDEV'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_DiagnosticoPermisosDEV'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_DiagnosticoPermisosDEV': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_DiagnosticoPermisosDEV'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.8942ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.3228ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_LogsSistemaDEV
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Sub_Menu_LogsSistemaDEV
PermisosController: Information: 🔍 Verificando permiso Sub_Menu_LogsSistemaDEV para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Sub_Menu_LogsSistemaDEV'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Sub_Menu_LogsSistemaDEV'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Sub_Menu_LogsSistemaDEV': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Sub_Menu_LogsSistemaDEV'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 17.6345ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.312ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: Obteniendo notificaciones del usuario...
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
API.Controllers.NotificacionesController: Information: Obteniendo notificaciones para usuario ID: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_1) [n].[NotificacionId], [n].[Titulo], [n].[Mensaje], [n].[Tipo], [n].[Icono], [n].[Leida], [n].[FechaCreacion], [n].[FechaLectura], [n].[UrlAccion], [n].[EntidadTipo], [n].[EntidadId]
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[EsVisible] = CAST(1 AS bit)
ORDER BY [n].[FechaCreacion] DESC
API.Controllers.NotificacionesController: Information: Se encontraron 0 notificaciones para el usuario 17
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 93.8027ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 96.9769ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Respuesta API: OK
GestionLlantera.Web.Services.NotificacionService: Information: Notificaciones recibidas: 2 caracteres
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 71.6038ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 74.5563ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: Obteniendo notificaciones del usuario...
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
API.Controllers.NotificacionesController: Information: Obteniendo notificaciones para usuario ID: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_1) [n].[NotificacionId], [n].[Titulo], [n].[Mensaje], [n].[Tipo], [n].[Icono], [n].[Leida], [n].[FechaCreacion], [n].[FechaLectura], [n].[UrlAccion], [n].[EntidadTipo], [n].[EntidadId]
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[EsVisible] = CAST(1 AS bit)
ORDER BY [n].[FechaCreacion] DESC
API.Controllers.NotificacionesController: Information: Se encontraron 0 notificaciones para el usuario 17
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 57.0118ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 59.5431ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Respuesta API: OK
GestionLlantera.Web.Services.NotificacionService: Information: Notificaciones recibidas: 2 caracteres
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 52.7525ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 55.2686ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_HerramientasSistema
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Menu_HerramientasSistema
PermisosController: Information: 🔍 Verificando permiso Menu_HerramientasSistema para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Menu_HerramientasSistema'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Menu_HerramientasSistema'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Menu_HerramientasSistema': False
API.ServicesAPI.PermisosService: Information: 🔍 Variaciones encontradas: []
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 NO TIENE permiso 'Menu_HerramientasSistema'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: False
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.2521ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 21.0579ms - 200
👥 Módulo SidebarUsuarios cargado correctamente
📊 Módulo Dashboard cargado correctamente
👥 DOM cargado, inicializando sidebar usuarios...
🚀 Dashboard cargado exitosamente
✅ Evento de formulario de nueva nota configurado
✅ Evento de formulario de nuevo anuncio configurado
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
CSS Hot Reload ignoring https://localhost:7038/lib/bootstrap/dist/css/bootstrap.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css because it was inaccessible or had more than 7000 rules.
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 59.7188ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 62.9184ms - 200
📊 Dashboard - Inicializando módulo principal
📊 Cargando alertas de stock...
📊 Cargando estadísticas de inventario total...
🏆 Cargando información del top vendedor...
👥 Cargando información de usuarios conectados...
📝 Cargando notas rápidas...
📢 Cargando anuncios del sistema...
GestionLlantera.Web.Services.NotasRapidasService: Information: 🔧 NotasRapidasService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.DashboardController: Information: 📊 Obteniendo alertas de stock para dashboard
GestionLlantera.Web.Services.AnunciosService: Information: Obteniendo anuncios desde la API
GestionLlantera.Web.Controllers.DashboardController: Information: 📊 Obteniendo top vendedor para dashboard
GestionLlantera.Web.Services.AnunciosService: Information: 🌐 URL construida: https://localhost:7273/api/Anuncios
GestionLlantera.Web.Services.NotasRapidasService: Information: Obteniendo notas para usuario: 17
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Anuncios
GestionLlantera.Web.Services.NotasRapidasService: Information: 🌐 URL construida: https://localhost:7273/api/notasrapidas/usuario/17
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Anuncios
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/notasrapidas/usuario/17
GestionLlantera.Web.Services.DashboardService: Information: 📊 Solicitando top vendedor desde dashboard service
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/notasrapidas/usuario/17
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener top vendedor
GestionLlantera.Web.Services.DashboardService: Information: 📊 Solicitando alertas de stock desde dashboard service
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/top-vendedor
GestionLlantera.Web.Controllers.DashboardController: Information: 👥 Obteniendo usuarios conectados para dashboard
API.Controllers.AnunciosController: Information: 🔔 === OBTENIENDO ANUNCIOS ===
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/top-vendedor
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener alertas de stock
GestionLlantera.Web.Services.DashboardService: Information: 👥 Solicitando usuarios conectados desde dashboard service
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/top-vendedor
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener usuarios conectados
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/alertas-stock
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/alertas-stock
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/alertas-stock
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
GestionLlantera.Web.Controllers.DashboardController: Information: 📊 Obteniendo estadísticas de inventario total para dashboard
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [a].[AnuncioId], [a].[UsuarioCreadorId], [u].[NombreUsuario] AS [NombreCreador], [a].[Titulo], [a].[Contenido], [a].[TipoAnuncio], [a].[Prioridad], [a].[EsImportante], [a].[Activo], [a].[FechaCreacion], [a].[FechaModificacion], [a].[FechaVencimiento]
FROM [Anuncios] AS [a]
INNER JOIN [Usuarios] AS [u] ON [a].[UsuarioCreadorId] = [u].[UsuarioID]
WHERE [a].[Activo] = CAST(1 AS bit)
ORDER BY [a].[EsImportante] DESC, [a].[FechaCreacion] DESC
GestionLlantera.Web.Services.DashboardService: Information: 📊 Solicitando estadísticas de inventario total desde dashboard service
API.Controllers.AnunciosController: Information: ✅ Se encontraron 0 anuncios
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener inventario total
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/inventario-total
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/inventario-total
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/inventario-total
API.Controllers.DashboardController: Information: 📊 Obteniendo alertas de stock para dashboard
API.Controllers.NotasRapidasController: Information: Obteniendo notas para usuario: 17
API.Controllers.DashboardController: Information: 📊 Obteniendo top vendedor para dashboard
API.Controllers.DashboardController: Information: 📊 Obteniendo usuarios conectados para dashboard
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 43.4593ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 47.533ms - 200
GestionLlantera.Web.Services.AnunciosService: Information: Respuesta de anuncios recibida: {"success":true,"anuncios":[]}
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ProductoID] AS [ProductoId], [p].[NombreProducto], [p].[CantidadEnInventario], [p].[StockMinimo], [p].[StockMinimo] - [p].[CantidadEnInventario] AS [Diferencia]
FROM [Productos] AS [p]
WHERE [p].[CantidadEnInventario] <= [p].[StockMinimo]
ORDER BY [p].[CantidadEnInventario]
API.Controllers.DashboardController: Information: 📊 Alertas encontradas: 0 total, 0 agotados, 0 críticos
El subproceso 39296 terminó con código 0 (0x0).
GestionLlantera.Web.Services.AnunciosService: Information: ✅ 0 anuncios obtenidos correctamente
API.Controllers.DashboardController: Information: 📊 Obteniendo resumen de inventario total para dashboard
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__usuarioId_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [n].[NotaId], [n].[UsuarioId], [n].[Titulo], [n].[Contenido], [n].[Color], [n].[EsFavorita], [n].[FechaCreacion], [n].[FechaModificacion]
FROM [NotasRapidas] AS [n]
WHERE [n].[UsuarioId] = @__usuarioId_0 AND [n].[Eliminada] = CAST(0 AS bit)
ORDER BY [n].[EsFavorita] DESC, [n].[FechaModificacion] DESC
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 44.1088ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 49.0405ms - 200
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 62.3137ms - 200
📢 Mostrando anuncios: (0) []
✅ Anuncios cargados correctamente: (0) []
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 66.6782ms - 200
GestionLlantera.Web.Services.DashboardService: Information: 📊 Respuesta recibida: {"success":true,"totalAlertas":0,"productosAgotados":0,"productosCriticos":0,"productos":[],"mensaje":"Stock en buen estado"}
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Alertas de stock obtenidas correctamente
📡 Respuesta del servidor: 200
✅ Datos de alertas recibidos: {success: true, data: {…}}
📊 Actualizando vista con datos: {success: true, totalAlertas: 0, productosAgotados: 0, productosCriticos: 0, productos: Array(0), …}
✅ Vista de alertas de stock actualizada correctamente
📝 Mostrando notas rápidas: (0) []
✅ Notas rápidas cargadas correctamente: (0) []
Microsoft.EntityFrameworkCore.Query: Warning: The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (4ms) [Parameters=[@__fechaInicio_0='?' (DbType = DateTime2), @__fechaFin_1='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [f].[UsuarioCreadorId] AS [UsuarioId], [u].[NombreUsuario] AS [NombreVendedor], COUNT(*) AS [TotalVentas], COALESCE(SUM([f].[Total]), 0.0) AS [MontoTotal], AVG([f].[Total]) AS [PromedioVenta]
FROM [Facturas] AS [f]
INNER JOIN [Usuarios] AS [u] ON [f].[UsuarioCreadorId] = [u].[UsuarioID]
WHERE [f].[FechaFactura] >= @__fechaInicio_0 AND [f].[FechaFactura] <= @__fechaFin_1 AND [u].[EsTopVendedor] = CAST(1 AS bit)
GROUP BY [f].[UsuarioCreadorId], [u].[NombreUsuario]
ORDER BY COUNT(*) DESC, COALESCE(SUM([f].[Total]), 0.0) DESC
API.Controllers.DashboardController: Information: 📊 No se encontraron ventas de usuarios habilitados como top vendedor para el mes actual
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) COUNT(*) AS [TotalProductos], COALESCE(SUM([t].[CantidadEnInventario]), 0) AS [TotalCantidad], COALESCE(SUM(CAST([t].[CantidadEnInventario] AS decimal(10,2)) * [t].[Precio]), 0.0) AS [ValorTotalInventario], COUNT(CASE
    WHEN [t].[CantidadEnInventario] > 0 THEN 1
END) AS [ProductosActivos], COUNT(CASE
    WHEN [t].[CantidadEnInventario] = 0 THEN 1
END) AS [ProductosAgotados]
FROM (
    SELECT [p].[CantidadEnInventario], [p].[Precio], 1 AS [Key]
    FROM [Productos] AS [p]
) AS [t]
GROUP BY [t].[Key]
API.Controllers.DashboardController: Information: 📊 Inventario total: ₡922,881, 6 productos, 54 unidades
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 81.6516ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 88.3829ms - 200
GestionLlantera.Web.Services.DashboardService: Information: 📊 Respuesta de top vendedor recibida: {"success":true,"vendedor":"Sin ventas","totalVentas":0,"montoTotal":0,"promedioVenta":0,"mensaje":"No hay ventas de usuarios habilitados como top vendedor este mes"}
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Top vendedor obtenido correctamente
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 61.2377ms - 200
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (6ms) [Parameters=[@__fechaLimite_0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SELECT [s].[UsuarioID], (
    SELECT TOP(1) [u1].[NombreUsuario]
    FROM [SesionUsuario] AS [s0]
    LEFT JOIN [Usuarios] AS [u0] ON [s0].[UsuarioID] = [u0].[UsuarioID]
    LEFT JOIN [Usuarios] AS [u1] ON [s0].[UsuarioID] = [u1].[UsuarioID]
    WHERE [s0].[EstaActiva] = CAST(1 AS bit) AND [s0].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u0].[UsuarioID] IS NOT NULL) AND ([s].[UsuarioID] = [s0].[UsuarioID] OR (([s].[UsuarioID] IS NULL) AND ([s0].[UsuarioID] IS NULL)))), MAX([s].[FechaHoraInicio]), COUNT(*), GETDATE(), COALESCE(MAX([s].[FechaHoraInicio]), GETDATE())
FROM [SesionUsuario] AS [s]
LEFT JOIN [Usuarios] AS [u] ON [s].[UsuarioID] = [u].[UsuarioID]
WHERE [s].[EstaActiva] = CAST(1 AS bit) AND [s].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u].[UsuarioID] IS NOT NULL)
GROUP BY [s].[UsuarioID]
ORDER BY MAX([s].[FechaHoraInicio]) DESC
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 66.9503ms - 200
🏆 Mostrando datos del top vendedor: {success: true, vendedor: 'Sin ventas', totalVentas: 0, montoTotal: 0, promedioVenta: 0, …}
GestionLlantera.Web.Services.DashboardService: Information: 📊 Respuesta de inventario total recibida: {"success":true,"valorTotal":922881.0000,"totalProductos":6,"totalCantidad":54,"productosActivos":6,"productosAgotados":0,"mensaje":"6 productos en inventario"}
API.Controllers.DashboardController: Information: 📊 Usuarios conectados: 1 usuarios con 19 sesiones activas
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Estadísticas de inventario total obtenidas correctamente
✅ Top vendedor mostrado correctamente
✅ Top vendedor cargado correctamente: {success: true, vendedor: 'Sin ventas', totalVentas: 0, montoTotal: 0, promedioVenta: 0, …}
📡 Respuesta del servidor (inventario): 200
✅ Datos de inventario total recibidos: {success: true, data: {…}}
📊 Actualizando tarjeta de inventario total: {success: true, valorTotal: 922881, totalProductos: 6, totalCantidad: 54, productosActivos: 6, …}
✅ Valor total actualizado: ₡922 881
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 91.2972ms - 200
✅ Detalle actualizado: 6 (54 unidades)
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 96.5569ms - 200
GestionLlantera.Web.Services.DashboardService: Information: 👥 Respuesta de usuarios conectados recibida: {"success":true,"totalUsuarios":1,"totalSesiones":19,"usuarios":[{"usuarioId":17,"nombreUsuario":"Administrador","ultimaSesion":"2025-09-06T21:55:17.51","sesionesActivas":19,"tiempoConectadoMinutos":0,"estado":"Activo"}],"mensaje":"1 usuario conectado"}
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Usuarios conectados obtenidos correctamente
👥 Mostrando datos de usuarios conectados: {success: true, totalUsuarios: 1, totalSesiones: 19, usuarios: Array(1), mensaje: '1 usuario conectado'}
✅ Panel de usuarios conectados (bottom) actualizado
✅ Contador del sidebar actualizado: 1 usuarios
✅ Usuarios conectados mostrados correctamente
✅ Usuarios conectados cargados correctamente: {success: true, totalUsuarios: 1, totalSesiones: 19, usuarios: Array(1), mensaje: '1 usuario conectado'}
📊 Inicializando eventos de formularios...
🔄 Configurando refresco automático...
✅ Dashboard inicializado correctamente
👥 Inicializando módulo de usuarios conectados del sidebar
✅ Módulo de usuarios conectados del sidebar inicializado
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.DashboardController: Information: 👥 Obteniendo usuarios conectados para dashboard
GestionLlantera.Web.Services.DashboardService: Information: 👥 Solicitando usuarios conectados desde dashboard service
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener usuarios conectados
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
API.Controllers.DashboardController: Information: 📊 Obteniendo usuarios conectados para dashboard
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__fechaLimite_0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SELECT [s].[UsuarioID], (
    SELECT TOP(1) [u1].[NombreUsuario]
    FROM [SesionUsuario] AS [s0]
    LEFT JOIN [Usuarios] AS [u0] ON [s0].[UsuarioID] = [u0].[UsuarioID]
    LEFT JOIN [Usuarios] AS [u1] ON [s0].[UsuarioID] = [u1].[UsuarioID]
    WHERE [s0].[EstaActiva] = CAST(1 AS bit) AND [s0].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u0].[UsuarioID] IS NOT NULL) AND ([s].[UsuarioID] = [s0].[UsuarioID] OR (([s].[UsuarioID] IS NULL) AND ([s0].[UsuarioID] IS NULL)))), MAX([s].[FechaHoraInicio]), COUNT(*), GETDATE(), COALESCE(MAX([s].[FechaHoraInicio]), GETDATE())
FROM [SesionUsuario] AS [s]
LEFT JOIN [Usuarios] AS [u] ON [s].[UsuarioID] = [u].[UsuarioID]
WHERE [s].[EstaActiva] = CAST(1 AS bit) AND [s].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u].[UsuarioID] IS NOT NULL)
GROUP BY [s].[UsuarioID]
ORDER BY MAX([s].[FechaHoraInicio]) DESC
API.Controllers.DashboardController: Information: 📊 Usuarios conectados: 1 usuarios con 19 sesiones activas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 6.3369ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 9.104ms - 200
GestionLlantera.Web.Services.DashboardService: Information: 👥 Respuesta de usuarios conectados recibida: {"success":true,"totalUsuarios":1,"totalSesiones":19,"usuarios":[{"usuarioId":17,"nombreUsuario":"Administrador","ultimaSesion":"2025-09-06T21:55:17.51","sesionesActivas":19,"tiempoConectadoMinutos":0,"estado":"Activo"}],"mensaje":"1 usuario conectado"}
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Usuarios conectados obtenidos correctamente
✅ Contador del sidebar actualizado: 1 usuarios
✅ Panel de usuarios conectados (sidebar) actualizado
🧹 Recursos de sidebar usuarios limpiados
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 🛒 === ACCESO AL MÓDULO DE FACTURACIÓN ===
GestionLlantera.Web.Controllers.FacturacionController: Information: 🛒 Usuario autenticado: True
GestionLlantera.Web.Controllers.FacturacionController: Information: 🛒 Nombre de usuario: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔍 Obteniendo información del usuario...
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Claims disponibles:
GestionLlantera.Web.Controllers.FacturacionController: Information:    - JwtToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiQWRtaW5pc3RyYWRvciIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6ImFkbWluQGxsYW50YXN5bWFzdGMuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIxNyIsInVzZXJJZCI6IjE3IiwiUGVybWlzc2lvbiI6WyJDcmVhciBGYWN0dXJhcyIsIlZlciBDb3N0b3MiLCJWZXIgVXRpbGlkYWRlcyIsIlByb2dyYW1hciBJbnZlbnRhcmlvIiwiR2VzdGlvbiBDb21wbGV0YSIsIkVkaXRhciBQcm9kdWN0b3MiLCJFbGltaW5hciBQcm9kdWN0b3MiLCJBanVzdGFyIFN0b2NrIiwiVmVyIFJlcG9ydGVzIiwiR2VzdGlvbiBVc3VhcmlvcyIsIlZlckNvc3RvcyIsIlZlclV0aWxpZGFkZXMiLCJQcm9ncmFtYXJJbnZlbnRhcmlvIiwiSW5pY2lhciBJbnZlbnRhcmlvIiwiQ29tcGxldGFyIEludmVudGFyaW8iLCJEZXNjYXJnYXIgUmVwb3J0ZXMiLCJWZXIgRmFjdHVyYWNpw7NuIiwiRWRpdGFyIENsaWVudGVzIiwiVmVyIFByb2R1Y3RvcyIsIlZlciBIaXN0b3JpYWwgSW52ZW50YXJpb3MgQ29tcGxldG8iLCJDb21wbGV0YXJGYWN0dXJhcyIsIkVkaXRhckZhY3R1cmFzIiwiQW51bGFyRmFjdHVyYXMiLCJDcmVhciBDbGllbnRlcyIsIlZlciBDbGllbnRlcyIsIkVsaW1pbmFyIENsaWVudGVzIiwiRW50cmVnYXIgUGVuZGllbnRlcyIsIlBydWViYSIsIk1lbnVfSW52ZW50YXJpbyIsIlN1Yl9NZW51X1ZlclByb2R1Y3RvcyIsIlN1Yl9NZW51X0FncmVnYXJQcm9kdWN0b3MiLCJTdWJfTWVudV9Qcm9ncmFtYXJJbnZlbnRhcmlvIiwiU3ViX01lbnVfSGlzdG9yaWFsSW52ZW50YXJpbyIsIk1lbnVfVmVudGFzIiwiU3ViX01lbnVfQ2xpZW50ZXMiLCJTdWJfTWVudV9GYWN0dXJhY2nDs24iLCJTdWJfTWVudV9SZXBvcnRlc1ZlbnRhcyIsIlN1Yl9NZW51X0VudHJlZ2FzUGVuZGllbnRlcyIsIk1lbnVfUHJvdmVlZG9yZXMiLCJTdWJfTWVudV9HZXN0aW9uUHJvdmVlZG9yZXMiLCJTdWJfTWVudV9QZWRpZG9zUHJvdmVlZG9yZXMiLCJNZW51X1JlcG9ydGVzIiwiU3ViX01lbnVfRXhwb3J0YXJFeGNlbCIsIlN1Yl9NZW51X0V4cG9ydGFyUERGIiwiTWVudV9Db25maWd1cmFjacOzbiIsIlN1Yl9NZW51X1JvbGVzUGVybWlzb3MiLCJTdWJfTWVudV9HZXN0aW9uVXN1YXJpb3MiLCJNZW51X0hlcnJhbWllbnRhc1Npc3RlbWFERVYiLCJTdWJfTWVudV9EaWFnbm9zdGljb1Blcm1pc29zREVWIiwiU3ViX01lbnVfTG9nc1Npc3RlbWFERVYiLCJWZXIgSGlzdG9yaWFsIEludmVudGFyaW9zIiwiVmVyIERldGFsbGUgUHJvZHVjdG8iLCJDb25maWd1cmFjaW9uIiwiQ3JlYXIgQW51bmNpb3MiLCJNZW51X1NlcnZpY2lvcyIsIlZlciBTZXJ2aWNpb3MiLCJFZGl0YXIgU2VydmljaW9zIl0sImV4cCI6MTc1NzIyMDkxNywiaXNzIjoiVHVjby5BUEkiLCJhdWQiOiJUdWNvLkNsaWVudCJ9.VhNUzxhxEwg9ynxZjFBBoKpBXR415YQThaIe7N9Fmco
GestionLlantera.Web.Controllers.FacturacionController: Information:    - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information:    - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: admin@llantasymastc.com
GestionLlantera.Web.Controllers.FacturacionController: Information:    - http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 17
GestionLlantera.Web.Controllers.FacturacionController: Information:    - userId: 17
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Crear Facturas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Costos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Utilidades
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Programar Inventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Gestion Completa
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Editar Productos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Eliminar Productos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ajustar Stock
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Reportes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Gestion Usuarios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: VerCostos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: VerUtilidades
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: ProgramarInventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Iniciar Inventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Completar Inventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Descargar Reportes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Facturación
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Editar Clientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Productos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Historial Inventarios Completo
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: CompletarFacturas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: EditarFacturas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: AnularFacturas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Crear Clientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Clientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Eliminar Clientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Entregar Pendientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Prueba
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Inventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_VerProductos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_AgregarProductos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_ProgramarInventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_HistorialInventario
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Ventas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_Clientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_Facturación
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_ReportesVentas
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_EntregasPendientes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Proveedores
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_GestionProveedores
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_PedidosProveedores
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Reportes
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_ExportarExcel
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_ExportarPDF
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Configuración
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_RolesPermisos
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_GestionUsuarios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_HerramientasSistemaDEV
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_DiagnosticoPermisosDEV
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Sub_Menu_LogsSistemaDEV
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Historial Inventarios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Detalle Producto
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Configuracion
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Crear Anuncios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Menu_Servicios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Ver Servicios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - Permission: Editar Servicios
GestionLlantera.Web.Controllers.FacturacionController: Information:    - exp: 1757220917
GestionLlantera.Web.Controllers.FacturacionController: Information:    - iss: Tuco.API
GestionLlantera.Web.Controllers.FacturacionController: Information:    - aud: Tuco.Client
GestionLlantera.Web.Controllers.FacturacionController: Information: NameIdentifier claim: 17
GestionLlantera.Web.Controllers.FacturacionController: Information: Name claim: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information: Email claim: admin@llantasymastc.com
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ ID parseado de NameIdentifier: 17
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 === VERIFICANDO PERMISOS DIRECTAMENTE DESDE TOKEN JWT ===
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 Permisos extraídos del token: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 Permisos encontrados en token: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/es-administrador
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/es-administrador
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 4.4826ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 6.7472ms - 200
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 === PERMISOS VALIDADOS DESDE TOKEN JWT ===
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 puedeCrearFacturas: True
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 puedeCompletarFacturas: True
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 puedeEditarFacturas: True
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 puedeAnularFacturas: True
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 esAdmin: False
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Configuración enviada al frontend: {"Usuario":{"usuarioId":17,"id":17,"nombre":"Administrador","nombreUsuario":"Administrador","email":"admin@llantasymastc.com"},"Permisos":{"puedeCrearFacturas":true,"puedeCompletarFacturas":true,"puedeEditarFacturas":true,"puedeAnularFacturas":true,"esAdmin":false},"FechaActual":"2025-09-06","HoraActual":"21:55","TokenDisponible":true}
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: Obteniendo notificaciones del usuario...
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
API.Controllers.NotificacionesController: Information: Obteniendo notificaciones para usuario ID: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_1) [n].[NotificacionId], [n].[Titulo], [n].[Mensaje], [n].[Tipo], [n].[Icono], [n].[Leida], [n].[FechaCreacion], [n].[FechaLectura], [n].[UrlAccion], [n].[EntidadTipo], [n].[EntidadId]
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[EsVisible] = CAST(1 AS bit)
ORDER BY [n].[FechaCreacion] DESC
API.Controllers.NotificacionesController: Information: Se encontraron 0 notificaciones para el usuario 17
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 55.682ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 58.3275ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Respuesta API: OK
GestionLlantera.Web.Services.NotificacionService: Information: Notificaciones recibidas: 2 caracteres
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 52.3693ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 54.9621ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: Obteniendo notificaciones del usuario...
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/mis-notificaciones
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
API.Controllers.NotificacionesController: Information: Obteniendo notificaciones para usuario ID: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_1) [n].[NotificacionId], [n].[Titulo], [n].[Mensaje], [n].[Tipo], [n].[Icono], [n].[Leida], [n].[FechaCreacion], [n].[FechaLectura], [n].[UrlAccion], [n].[EntidadTipo], [n].[EntidadId]
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[EsVisible] = CAST(1 AS bit)
ORDER BY [n].[FechaCreacion] DESC
API.Controllers.NotificacionesController: Information: Se encontraron 0 notificaciones para el usuario 17
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 54.9932ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 57.5496ms - 200
GestionLlantera.Web.Services.NotificacionService: Information: Respuesta API: OK
GestionLlantera.Web.Services.NotificacionService: Information: Notificaciones recibidas: 2 caracteres
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 54.8581ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 57.5469ms - 200
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
👥 Módulo SidebarUsuarios cargado correctamente
🖨️ Módulo de impresión térmica cargado correctamente
✅ Sistema de zoom simplificado cargado
📋 Funciones de proformas, detalles y servicios exportadas globalmente
📋 Funciones de facturas pendientes exportadas globalmente
📋 Módulo de filtros de proformas (Frontend) cargado correctamente
✅ verDetalleProducto disponible desde facturacion.js
📦 Módulo InventarioFacturacion.js cargado correctamente
🎯 === CONFIGURACIÓN DE FACTURACIÓN CARGADA ===
🎯 Configuración completa: {usuario: {…}, permisos: {…}, fechaActual: '2025-09-06', horaActual: '21:55', tokenDisponible: true}
❌ No se encontraron permisos en la configuración
🔧 === CONFIGURACIÓN DE FACTURACIÓN CARGADA ===
🔧 Configuración completa: {usuario: {…}, permisos: {…}, fechaActual: '2025-09-06', horaActual: '21:55', tokenDisponible: true}
🔧 Usuario disponible: undefined
🔧 Permisos disponibles: undefined
🔧 Token disponible: undefined
👥 DOM cargado, inicializando sidebar usuarios...
🚀 Inicializando módulo de facturación
🚀 === INICIO inicializarFacturacion ===
🔐 Cargando permisos del usuario...
🔍 === INICIANDO CARGA DE PERMISOS EN FACTURACIÓN ===
🔍 Configuración recibida: {
  "usuario": {
    "usuarioId": 17,
    "id": 17,
    "nombre": "Administrador",
    "nombreUsuario": "Administrador",
    "email": "admin@llantasymastc.com"
  },
  "permisos": {
    "puedeCrearFacturas": true,
    "puedeCompletarFacturas": true,
    "puedeEditarFacturas": true,
    "puedeAnularFacturas": true,
    "esAdmin": false
  },
  "fechaActual": "2025-09-06",
  "horaActual": "21:55",
  "tokenDisponible": true
}
🔐 === PERMISOS CARGADOS CORRECTAMENTE ===
🔐 puedeCrearFacturas: true
🔐 puedeCompletarFacturas: true
🔐 puedeEditarFacturas: true
🔐 puedeAnularFacturas: true
🔐 esAdmin: false
🎯 === CONFIGURANDO INTERFAZ SEGÚN PERMISOS ===
🎯 Permisos actuales del usuario: {puedeCrearFacturas: true, puedeCompletarFacturas: true, puedeEditarFacturas: true, puedeAnularFacturas: true, esAdmin: false}
🎯 puedeCompletarFacturas: true (tipo: boolean )
🎯 puedeCrearFacturas: true (tipo: boolean )
🎯 Evaluación de permisos:
🎯   - puedeCompletar (CompletarFacturas): true
🎯   - puedeCrear (CrearFacturas): true
👑 === INTERFAZ CONFIGURADA: USUARIO CON PERMISO COMPLETAR ===
👑 Botón: Verde - "Completar Venta"
👑 Flujo: Factura pagada inmediatamente con ajuste de stock
📋 Botón Facturas Pendientes habilitado para usuario con permisos de completar
🚀 Inicializando modales...
📦 === INICIALIZANDO MODAL INVENTARIO FACTURACIÓN ===
✅ Modal de inventario inicializado correctamente
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
📦 Configurando eventos del modal inventario...
📦 Configurando filtros de inventario...
🚀 Configurando eventos...
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
🚀 Actualizando totales...
🧮 Actualizando totales...
🎯 Actualizando estado botones: {tieneProductos: false, tieneCliente: false, totalItems: 0}
🚀 Iniciando carga de productos iniciales...
📦 === INICIO cargarProductosIniciales ===
📦 cargaInicialCompletada: false
📦 Iniciando carga de productos iniciales...
🔍 === INICIO buscarProductos ===
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
🔍 CONTADOR DE LLAMADAS: 1
🔍 Término recibido: ""
🔍 busquedaEnProceso: false
🔍 ultimaBusqueda: ""
🔍 Iniciando búsqueda válida...
✅ Facturación inicializada correctamente
🚀 === FIN inicializarFacturacion ===
📦 === INICIALIZANDO MODAL INVENTARIO FACTURACIÓN ===
✅ Modal de inventario inicializado correctamente
📦 Configurando eventos del modal inventario...
📦 Configurando filtros de inventario...
🛠️ Inicializando módulo especializado de servicios para facturación
🛠️ === INICIALIZANDO MÓDULO SERVICIOS FACTURACIÓN ===
✅ Módulo de servicios para facturación inicializado
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
CSS Hot Reload ignoring https://localhost:7038/lib/bootstrap/dist/css/bootstrap.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css because it was inaccessible or had more than 7000 rules.
CSS Hot Reload ignoring https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css because it was inaccessible or had more than 7000 rules.
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
GestionLlantera.Web.Services.InventarioService: Information: 🔍 === INICIANDO OBTENCIÓN DE PRODUCTOS ===
GestionLlantera.Web.Services.InventarioService: Information: 🔐 Token JWT configurado para la petición
GestionLlantera.Web.Services.InventarioService: Information: 🌐 URL construida: https://localhost:7273/api/Inventario/productos
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Inventario/productos
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Inventario/productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.InventarioController: Information: 🚀 === INICIANDO OBTENCIÓN DE PRODUCTOS ===
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.InventarioController: Information: 🚀 Usuario: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
TienePermisoAsync: Information: 🔎 Permiso: 'VerCostos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'VerCostos'
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 101.8415ms - 200
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 104.7318ms - 200
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
🎯 === ESTADO FINAL DEL BOTÓN FINALIZAR ===
🎯 Clases CSS: btn w-100 btn-success
🎯 Deshabilitado: true
🎯 Texto: Completar Venta
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
🎯 Título: Procesar venta completa, ajustar stock e imprimir factura
🎯 === FIN CONFIGURACIÓN INTERFAZ ===
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'VerCostos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'VerCostos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'VerUtilidades'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'VerUtilidades'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'VerUtilidades': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'VerUtilidades'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
API.Controllers.InventarioController: Information: 🔍 Usuario Administrador - VerCostos: True, VerUtilidades: True
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
API.Controllers.InventarioController: Information: 📊 Total de productos en base de datos: 6
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [PedidosProveedor] AS [p]
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [PedidosProveedor] AS [p]
WHERE [p].[Estado] = 'Pendiente'
API.Controllers.InventarioController: Information: 📦 Total de pedidos: 0, Pendientes: 0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [DetallePedido] AS [d]
API.Controllers.InventarioController: Information: 📋 Total de detalles de pedidos: 0
Microsoft.EntityFrameworkCore.Query: Warning: The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[PedidoID] AS [PedidoId], [p].[Estado], [p].[FechaPedido]
FROM [PedidosProveedor] AS [p]
WHERE [p].[Estado] = 'Pendiente'
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ProductoID], [p].[NombreProducto], [p].[Descripcion], [p].[Costo], [p].[PorcentajeUtilidad], CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN [p].[Costo] * ([p].[PorcentajeUtilidad] / 100.0)
    ELSE NULL
END, CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN [p].[Costo] + ([p].[Costo] * ([p].[PorcentajeUtilidad] / 100.0))
    ELSE [p].[Precio]
END, CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [p].[Precio], [p].[CantidadEnInventario], [p].[StockMinimo], [p].[FechaUltimaActualizacion], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DetallePedido] AS [d]
        LEFT JOIN [PedidosProveedor] AS [p0] ON [d].[PedidoID] = [p0].[PedidoID]
        WHERE [d].[ProductoID] = [p].[ProductoID] AND ([p0].[PedidoID] IS NOT NULL) AND [p0].[Estado] = 'Pendiente') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [i].[ImagenID], [i].[URLImagen], [i].[Descripcion], [i].[FechaCreacion], [t0].[LlantaId], [t0].[Ancho], [t0].[Perfil], [t0].[Diametro], [t0].[Marca], [t0].[Modelo], [t0].[Capas], [t0].[IndiceVelocidad], [t0].[TipoTerreno], [t0].[c]
FROM [Productos] AS [p]
LEFT JOIN [ImagenesProducto] AS [i] ON [p].[ProductoID] = [i].[ProductoID]
LEFT JOIN (
    SELECT [t].[LlantaId], [t].[Ancho], [t].[Perfil], [t].[Diametro], [t].[Marca], [t].[Modelo], [t].[Capas], [t].[IndiceVelocidad], [t].[TipoTerreno], [t].[c], [t].[ProductoID]
    FROM (
        SELECT [l].[LlantaID] AS [LlantaId], [l].[Ancho], [l].[Perfil], [l].[Diametro], [l].[Marca], [l].[Modelo], [l].[Capas], [l].[IndiceVelocidad], [l].[TipoTerreno], 1 AS [c], [l].[ProductoID], ROW_NUMBER() OVER(PARTITION BY [l].[ProductoID] ORDER BY [l].[LlantaID]) AS [row]
        FROM [Llantas] AS [l]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [p].[ProductoID] = [t0].[ProductoID]
ORDER BY [p].[ProductoID]
API.Controllers.InventarioController: Information: 📦 Productos obtenidos de la consulta: 6
API.Controllers.InventarioController: Information: 🔥 Productos con pedido pendiente: 0
API.Controllers.InventarioController: Information: ❌ Producto SIN pedido pendiente: ID=1, Nombre='Llanta Pirelli Confort 2', TienePedidoPendiente=False
API.Controllers.InventarioController: Information: ❌ Producto SIN pedido pendiente: ID=2, Nombre='Llanta DUNLOP', TienePedidoPendiente=False
API.Controllers.InventarioController: Information: ✅ === PRODUCTOS OBTENIDOS EXITOSAMENTE ===
API.Controllers.InventarioController: Information: ✅ Total enviado al cliente: 6 productos
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 158.7781ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 161.9202ms - 200
GestionLlantera.Web.Services.InventarioService: Information: 📄 Respuesta recibida de la API, procesando 5481 caracteres...
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta Pirelli Confort 2 (ID: 1, Precio: 22440, Stock: 9, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 2, Precio: 25990, Stock: 7, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 4, Precio: 13000, Stock: 8, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 5, Precio: 16500, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 6, Precio: 15499.5, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 7, Precio: 11499.6, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🎉 PROCESO COMPLETADO: 6 productos procesados exitosamente
📋 Respuesta del servidor recibida
✅ Se encontraron 6 productos disponibles
🔄 === INICIO mostrarResultadosProductos ===
🔄 CONTADOR DE LLAMADAS: 1
🔄 Productos recibidos: 6
🔄 Construyendo HTML para 6 productos
🖼️ Procesando imágenes para producto: Llanta Pirelli Confort 2
🖼️ Datos del producto: {imagenesProductos: Array(3), imagenesUrls: Array(3), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (3) ['https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp']
🖼️ Imágenes desde imagenesUrls: (3) ['https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/50/R15', medidaFinal: '225/50/R15', nombreProducto: 'Llanta Pirelli Confort 2'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '205/35/R16', medidaFinal: '205/35/R16', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/80/R20', medidaFinal: '225/80/R20', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/30/R15', medidaFinal: '225/30/R15', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '250/70/R16', medidaFinal: '250/70/R16', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(4), imagenesUrls: Array(4), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (4) ['https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg']
🖼️ Imágenes desde imagenesUrls: (4) ['https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/60/R16', medidaFinal: '225/60/R16', nombreProducto: 'Llanta DUNLOP'}
🔄 Actualizando DOM (longitud HTML: 27970 caracteres)
🔄 === FIN mostrarResultadosProductos ===
📦 Carga inicial marcada como completada después de primera búsqueda exitosa
📦 Productos mostrados exitosamente
🔍 === FIN buscarProductos ===
📦 Búsqueda inicial ejecutada
📦 === FIN cargarProductosIniciales (exitosa) ===
👥 Inicializando módulo de usuarios conectados del sidebar
✅ Módulo de usuarios conectados del sidebar inicializado
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.DashboardController: Information: 👥 Obteniendo usuarios conectados para dashboard
GestionLlantera.Web.Services.DashboardService: Information: 👥 Solicitando usuarios conectados desde dashboard service
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener usuarios conectados
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
API.Controllers.DashboardController: Information: 📊 Obteniendo usuarios conectados para dashboard
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__fechaLimite_0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SELECT [s].[UsuarioID], (
    SELECT TOP(1) [u1].[NombreUsuario]
    FROM [SesionUsuario] AS [s0]
    LEFT JOIN [Usuarios] AS [u0] ON [s0].[UsuarioID] = [u0].[UsuarioID]
    LEFT JOIN [Usuarios] AS [u1] ON [s0].[UsuarioID] = [u1].[UsuarioID]
    WHERE [s0].[EstaActiva] = CAST(1 AS bit) AND [s0].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u0].[UsuarioID] IS NOT NULL) AND ([s].[UsuarioID] = [s0].[UsuarioID] OR (([s].[UsuarioID] IS NULL) AND ([s0].[UsuarioID] IS NULL)))), MAX([s].[FechaHoraInicio]), COUNT(*), GETDATE(), COALESCE(MAX([s].[FechaHoraInicio]), GETDATE())
FROM [SesionUsuario] AS [s]
LEFT JOIN [Usuarios] AS [u] ON [s].[UsuarioID] = [u].[UsuarioID]
WHERE [s].[EstaActiva] = CAST(1 AS bit) AND [s].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u].[UsuarioID] IS NOT NULL)
GROUP BY [s].[UsuarioID]
ORDER BY MAX([s].[FechaHoraInicio]) DESC
API.Controllers.DashboardController: Information: 📊 Usuarios conectados: 1 usuarios con 19 sesiones activas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 5.9267ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 8.4415ms - 200
GestionLlantera.Web.Services.DashboardService: Information: 👥 Respuesta de usuarios conectados recibida: {"success":true,"totalUsuarios":1,"totalSesiones":19,"usuarios":[{"usuarioId":17,"nombreUsuario":"Administrador","ultimaSesion":"2025-09-06T21:55:17.51","sesionesActivas":19,"tiempoConectadoMinutos":0,"estado":"Activo"}],"mensaje":"1 usuario conectado"}
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Usuarios conectados obtenidos correctamente
✅ Contador del sidebar actualizado: 1 usuarios
✅ Panel de usuarios conectados (sidebar) actualizado
🛠️ Botón servicios clickeado desde módulo especializado
🛠️ === ABRIENDO MODAL DE SERVICIOS (MÓDULO ESPECIALIZADO) ===
🛠️ Modal de servicios visible - inicializando contenido
❌ Error cargando tipos de servicios: Error: Error HTTP: 404
    at ServiciosFacturacion.cargarTiposServicios (C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\wwwroot\js\views\facturacion\serviciosFacturacion.js:82:23)
    at async ServiciosFacturacion.inicializarContenidoModal (C:\Users\UMA08\source\repos\Tuco\GestionLlantera.Web\wwwroot\js\views\facturacion\serviciosFacturacion.js:56:13)
    at async HTMLDivElement.<anonymous> (https://localhost:7038/js/views/facturacion/serviciosFacturacion.js:42:17) {stack: 'Error: Error HTTP: 404
    at ServiciosFactur…ws/facturacion/serviciosFacturacion.js:42:17)', message: 'Error HTTP: 404'}

🛠️ === CARGANDO SERVICIOS (MÓDULO ESPECIALIZADO) ===
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Servicios
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Permisos/verificar/Ver%20Servicios
PermisosController: Information: 🔍 Verificando permiso Ver Servicios para usuario Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Servicios'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Servicios'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Servicios': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Servicios'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 18.203ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 20.9913ms - 200
GestionLlantera.Web.Controllers.ServiciosController: Information: 🔧 Obteniendo todos los servicios
GestionLlantera.Web.Services.ServiciosService: Information: 🔧 Obteniendo servicios desde API
System.Net.Http.HttpClient.ApiClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Servicios
System.Net.Http.HttpClient.ApiClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Servicios
API.Controllers.ServiciosController: Information: 🔧 Obteniendo servicios - Busqueda: , Tipo: , SoloActivos: False
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [s].[ServicioId], [s].[Descripcion], [s].[EstaActivo], [s].[FechaCreacion], [s].[FechaUltimaActualizacion], [s].[NombreServicio], [s].[Observaciones], [s].[PrecioBase], [s].[TipoServicio]
FROM [Servicios] AS [s]
ORDER BY [s].[NombreServicio]
API.Controllers.ServiciosController: Information: ✅ Se encontraron 9 servicios
System.Net.Http.HttpClient.ApiClient.ClientHandler: Information: Received HTTP response headers after 30.6261ms - 200
System.Net.Http.HttpClient.ApiClient.LogicalHandler: Information: End processing HTTP request after 33.6829ms - 200
GestionLlantera.Web.Services.ServiciosService: Information: ✅ Servicios obtenidos exitosamente: 9
🛠️ Servicios obtenidos: (9) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
🛠️ Mostrando servicios en tabla: 9
🛠️ === MOSTRANDO MODAL AGREGAR SERVICIO (ID:5) ===
🛠️ Servicio encontrado: {servicioId: 5, nombreServicio: 'Cambio de Aceite', descripcion: 'Cambio de aceite de motor y filtro', precioBase: 12000, tipoServicio: 'Mantenimiento', …}
🛠️ === AGREGANDO SERVICIO A LA VENTA ===
🛠️ Servicio: {servicioId: 5, nombreServicio: 'Cambio de Aceite', descripcion: 'Cambio de aceite de motor y filtro', precioBase: 12000, tipoServicio: 'Mantenimiento', …}
🛠️ Cantidad: 1
🛠️ Precio: 12000
✅ Nuevo servicio agregado: {servicioId: 5, nombreProducto: 'Cambio de Aceite', cantidad: 1, precioUnitario: 12000, subtotal: 12000, …}
🎯 Actualizando estado botones: {tieneProductos: true, tieneCliente: false, totalItems: 1}
🧮 Actualizando totales...
🎯 Actualizando estado botones: {tieneProductos: true, tieneCliente: false, totalItems: 1}
👥 Buscando clientes: "uli"
GestionLlantera.Web.Services.ClientesService: Information: 🔐 Token JWT configurado para buscar clientes
GestionLlantera.Web.Services.ClientesService: Information: 🌐 URL construida: https://localhost:7273/api/Clientes/buscar?termino=uli
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Clientes/buscar?termino=uli
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Clientes/buscar?termino=uli
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Clientes': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Clientes'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
API.Controllers.ClientesController: Information: 🔍 Buscando clientes con término: uli
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__termino_0='?' (Size = 100) (DbType = AnsiString), @__termino_0_1='?' (Size = 15) (DbType = AnsiString)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_1) [c].[ClienteID], [c].[Contacto], [c].[Direccion], [c].[Email], [c].[NombreCliente], [c].[Telefono], [c].[UsuarioID]
FROM [Clientes] AS [c]
WHERE (@__termino_0 LIKE '') OR CHARINDEX(@__termino_0, [c].[NombreCliente]) > 0 OR (([c].[Email] IS NOT NULL) AND ((@__termino_0 LIKE '') OR CHARINDEX(@__termino_0, [c].[Email]) > 0)) OR (([c].[Telefono] IS NOT NULL) AND ((@__termino_0_1 LIKE '') OR CHARINDEX(@__termino_0_1, [c].[Telefono]) > 0)) OR (([c].[Contacto] IS NOT NULL) AND ((@__termino_0 LIKE '') OR CHARINDEX(@__termino_0, [c].[Contacto]) > 0))
ORDER BY [c].[NombreCliente]
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 42.4056ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 45.0635ms - 200
GestionLlantera.Web.Services.ClientesService: Information: 🔍 Búsqueda de clientes completada: 214 caracteres
🎯 Actualizando estado botones: {tieneProductos: true, tieneCliente: true, totalItems: 1}
Cliente seleccionado: {id: 14, nombre: 'Ulises Monge Aguilar', email: 'umongegds@gmail.com', telefono: '6282-8588', contacto: '3-0435-0539', …}
📋 === DEPURACIÓN CLIENTE SELECCIONADO ===
📋 Cliente completo: {id: 14, nombre: 'Ulises Monge Aguilar', email: 'umongegds@gmail.com', telefono: '6282-8588', contacto: '3-0435-0539', …}
📋 Propiedades disponibles: (7) ['id', 'nombre', 'email', 'telefono', 'contacto', 'identificacion', 'direccion']
📋 Factura pendiente actual: null
📋 Proforma original para conversión: undefined
📋 Ocultando información especial
🎯 === CONFIGURANDO MODAL SEGÚN PERMISOS ===
🎯 Permisos del usuario: {puedeCrearFacturas: true, puedeCompletarFacturas: true, puedeEditarFacturas: true, puedeAnularFacturas: true, esAdmin: false}
🎯 puedeCompletarFacturas: true
🎯 puedeCrearFacturas: true
🎯 esAdmin: false
🎯 Es conversión de proforma: false
🎯 Es factura pendiente: false
🎯 Botón de proforma mostrado - No es factura pendiente
👑 Modal configurado para administrador/cajero - Venta completa con ajuste de stock
📋 Datos mapeados para formulario: {nombre: 'Ulises Monge Aguilar', cedula: '3-0435-0539', telefono: '6282-8588', email: 'umongegds@gmail.com', direccion: 'Limon Costa Rica'}
🎯 === ESTADO FINAL DEL BOTÓN FINALIZAR ===
🎯 Clases CSS: btn btn-success
🎯 Deshabilitado: false
🎯 Texto: 
                    
                    Completar y Pagar
                
🎯 Título: Procesar venta completa, marcar como pagada, ajustar stock e imprimir factura
🎯 Botón Proforma Visible: false
🎯 === FIN CONFIGURACIÓN INTERFAZ ===
El subproceso 25936 terminó con código 0 (0x0).
📋 === PROCESANDO PROFORMA DESDE MODAL ===
📋 Items detectados para proforma: {productos: 0, servicios: 1}
📋 === CREANDO PROFORMA ===
El subproceso 31776 terminó con código 0 (0x0).
🆕 === CREANDO NUEVO DOCUMENTO ===
🆕 Tipo de documento: Proforma
🆕 Es conversión de proforma: false
🔐 === VERIFICACIÓN DE PERMISOS ===
🔐 puedeCompletarFacturas: true
🔐 puedeCrearFacturas: true
🔐 tipoDocumento: Proforma
📋 Creando proforma con estado VIGENTE
📅 Fecha de vencimiento calculada: Mon Oct 06 2025 21:55:37 GMT-0600 (hora estándar central)
📋 Estado determinado: {tipoDocumento: 'Proforma', estadoFactura: 'Vigente', fechaVencimiento: Mon Oct 06 2025 21:55:37 GMT-0600 (hora estándar central), debeImprimir: true, debeAjustarInventario: false, …}
👤 === OBTENIENDO USUARIO ACTUAL EN FACTURACIÓN ===
👤 facturaConfig disponible: true
👤 Usuario encontrado en facturaConfig: {usuarioId: 17, id: 17, nombre: 'Administrador', nombreUsuario: 'Administrador', email: 'admin@llantasymastc.com'}
👤 Tipo de usuario obtenido: object
👤 Propiedades del usuario: (5) ['usuarioId', 'id', 'nombre', 'nombreUsuario', 'email']
👤 ID de usuario: 17
👤 Nombre de usuario: Administrador
👤 Usuario actual para documento: {usuario: {…}, usuarioId: 17}
📋 Datos de documento preparados: {clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', telefonoCliente: '6282-8588', emailCliente: 'umongegds@gmail.com', …}
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 === INICIO CrearFactura ===
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Usuario: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Autenticado: True
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Controllers.FacturacionController: Information: 🚀 Enviando factura usando servicio: Ulises Monge Aguilar
GestionLlantera.Web.Controllers.FacturacionController: Information: 📊 Total productos: 1, Total: 13560
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 Token JWT disponible: 2137 caracteres
GestionLlantera.Web.Services.FacturacionService: Information: 🧾 Creando factura usando servicio de facturación
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Factura recibida para procesamiento: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:55:38.222Z","FechaVencimiento":"2025-10-07T03:55:37.69Z","Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Vigente","TipoDocumento":"Proforma","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":null,"ServicioId":5,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"Cambio de aceite de motor y filtro","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":true,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":true}
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades de la factura recibida:
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FacturaId: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NumeroFactura: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ClienteId: 14
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NombreCliente: Ulises Monge Aguilar
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   IdentificacionCliente: 3-0435-0539
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TelefonoCliente: 6282-8588
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EmailCliente: umongegds@gmail.com
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DireccionCliente: Limon Costa Rica
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaFactura: 9/7/2025 3:55:38 AM
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaVencimiento: 10/7/2025 3:55:37 AM
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Subtotal: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DescuentoGeneral: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   PorcentajeImpuesto: 13
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoImpuesto: 1560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Total: 13560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Estado: Vigente
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TipoDocumento: Proforma
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MetodoPago: efectivo
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesPago: []
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsPagoMultiple: False
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Observaciones: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorId: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorNombre: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaCreacion: 1/1/0001 12:00:00 AM
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaActualizacion: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesFactura: [
  {
    "DetalleFacturaId": 0,
    "FacturaId": 0,
    "ProductoId": null,
    "ServicioId": ...
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalSinDescuento: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoDescuentoTotal: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalConDescuento: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ImpuestoCalculado: 1560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TotalCalculado: 13560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   CantidadItems: 1
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsProforma: True
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Número de Factura generado: FAC-202509-000440
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 === DEBUGGING JWT TOKEN COMPLETO ===
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Payload JWT completo: {"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name":"Administrador","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress":"admin@llantasymastc.com","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier":"17","userId":"17","Permission":["Crear Facturas","Ver Costos","Ver Utilidades","Programar Inventario","Gestion Completa","Editar Productos","Eliminar Productos","Ajustar Stock","Ver Reportes","Gestion Usuarios","VerCostos","VerUtilidades","ProgramarInventario","Iniciar Inventario","Completar Inventario","Descargar Reportes","Ver Facturación","Editar Clientes","Ver Productos","Ver Historial Inventarios Completo","CompletarFacturas","EditarFacturas","AnularFacturas","Crear Clientes","Ver Clientes","Eliminar Clientes","Entregar Pendientes","Prueba","Menu_Inventario","Sub_Menu_VerProductos","Sub_Menu_AgregarProductos","Sub_Menu_ProgramarInventario","Sub_Menu_HistorialInventario","Menu_Ventas","Sub_Menu_Clientes","Sub_Menu_Facturación","Sub_Menu_ReportesVentas","Sub_Menu_EntregasPendientes","Menu_Proveedores","Sub_Menu_GestionProveedores","Sub_Menu_PedidosProveedores","Menu_Reportes","Sub_Menu_ExportarExcel","Sub_Menu_ExportarPDF","Menu_Configuración","Sub_Menu_RolesPermisos","Sub_Menu_GestionUsuarios","Menu_HerramientasSistemaDEV","Sub_Menu_DiagnosticoPermisosDEV","Sub_Menu_LogsSistemaDEV","Ver Historial Inventarios","Ver Detalle Producto","Configuracion","Crear Anuncios","Menu_Servicios","Ver Servicios","Editar Servicios"],"exp":1757220917,"iss":"Tuco.API","aud":"Tuco.Client"}
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades disponibles en el token:
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: Administrador
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: admin@llantasymastc.com
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   userId: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Permission: [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
 ...
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   exp: 1757220917
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   iss: Tuco.API
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   aud: Tuco.Client
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Permisos encontrados en campo 'Permission': [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
  "Gestion Usuarios",
  "VerCostos",
  "VerUtilidades",
  "ProgramarInventario",
  "Iniciar Inventario",
  "Completar Inventario",
  "Descargar Reportes",
  "Ver Facturación",
  "Editar Clientes",
  "Ver Productos",
  "Ver Historial Inventarios Completo",
  "CompletarFacturas",
  "EditarFacturas",
  "AnularFacturas",
  "Crear Clientes",
  "Ver Clientes",
  "Eliminar Clientes",
  "Entregar Pendientes",
  "Prueba",
  "Menu_Inventario",
  "Sub_Menu_VerProductos",
  "Sub_Menu_AgregarProductos",
  "Sub_Menu_ProgramarInventario",
  "Sub_Menu_HistorialInventario",
  "Menu_Ventas",
  "Sub_Menu_Clientes",
  "Sub_Menu_Facturación",
  "Sub_Menu_ReportesVentas",
  "Sub_Menu_EntregasPendientes",
  "Menu_Proveedores",
  "Sub_Menu_GestionProveedores",
  "Sub_Menu_PedidosProveedores",
  "Menu_Reportes",
  "Sub_Menu_ExportarExcel",
  "Sub_Menu_ExportarPDF",
  "Menu_Configuración",
  "Sub_Menu_RolesPermisos",
  "Sub_Menu_GestionUsuarios",
  "Menu_HerramientasSistemaDEV",
  "Sub_Menu_DiagnosticoPermisosDEV",
  "Sub_Menu_LogsSistemaDEV",
  "Ver Historial Inventarios",
  "Ver Detalle Producto",
  "Configuracion",
  "Crear Anuncios",
  "Menu_Servicios",
  "Ver Servicios",
  "Editar Servicios"
]
GestionLlantera.Web.Services.FacturacionService: Information: 🔐 Permisos extraídos del token: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Usuario tiene permiso CompletarFacturas - Estado: Pagada
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Estado de factura asignado: Pagada
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Validación de productos exitosa: se encontraron productos en la factura
GestionLlantera.Web.Services.FacturacionService: Information: 📤 JSON enviado a API: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:55:38","FechaVencimiento":"2025-10-07T03:55:37","Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Vigente","TipoDocumento":"Proforma","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":null,"ServicioId":5,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"Cambio de aceite de motor y filtro","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":true,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":true,"numeroFactura":"FAC-202509-000440","fechaCreacion":"2025-09-06T21:55:40","estado":"Pagada","nombreCliente":"Ulises Monge Aguilar","detallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":null,"ServicioId":5,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"Cambio de aceite de motor y filtro","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":true,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}]}
GestionLlantera.Web.Services.FacturacionService: Information: 🌐 URL construida: https://localhost:7273/api/Facturacion/facturas
El subproceso '.NET ThreadPool Worker' (37300) terminó con código 0 (0x0).
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request POST https://localhost:7273/api/Facturacion/facturas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request POST https://localhost:7273/api/Facturacion/facturas
El subproceso '.NET ThreadPool Worker' (36572) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (37028) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (29380) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (2264) terminó con código 0 (0x0).
ValidarPermisoAsync: Information: 🔍 === INICIO VALIDACIÓN DE PERMISO ===
ValidarPermisoAsync: Information: 🔍 Permiso solicitado: 'Crear Facturas'
ValidarPermisoAsync: Information: 🔍 Usuario: Administrador
ValidarPermisoAsync: Information: 🔍 Controlador: FacturacionController
ValidarPermisoAsync: Information: 🔍 Acción: CrearFactura
ValidarPermisoAsync: Information: 🔍 ID Usuario obtenido: 17
ValidarPermisoAsync: Information: 🔍 Es administrador: False
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Crear Facturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Crear Facturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
ValidarPermisoAsync: Information: 🔍 Resultado TienePermisoAsync: True
ValidarPermisoAsync: Information: ✅ PERMISO CONCEDIDO - Usuario: Administrador, Permiso: Crear Facturas
ValidarPermisoAsync: Information: 🔍 === FIN VALIDACIÓN DE PERMISO (EXITOSA) ===
API.Controllers.FacturacionController: Information: 💰 Usuario Administrador creando factura para cliente: Ulises Monge Aguilar
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'CompletarFacturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'CompletarFacturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
API.Controllers.FacturacionController: Information: 📋 Proforma creada con estado VIGENTE
API.Controllers.FacturacionController: Information: 🔐 Estado inicial determinado: Vigente (Usuario puede completar: True, Estado enviado: Pagada)
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__tipoDocumento_0='?' (Size = 20), @__año_1='?' (DbType = Int32), @__mes_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Facturas] AS [f]
WHERE [f].[TipoDocumento] = @__tipoDocumento_0 AND DATEPART(year, [f].[FechaFactura]) = @__año_1 AND DATEPART(month, [f].[FechaFactura]) = @__mes_2
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 300), @p3='?' (Size = 200), @p4='?' (Size = 20), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 200), @p13='?' (Size = 50), @p14='?' (Size = 500), @p15='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 20), @p18='?' (Size = 20), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([ClienteId], [DescuentoGeneral], [DireccionCliente], [EmailCliente], [Estado], [FechaActualizacion], [FechaCreacion], [FechaFactura], [FechaVencimiento], [IdentificacionCliente], [MetodoPago], [MontoImpuesto], [NombreCliente], [NumeroFactura], [Observaciones], [PorcentajeImpuesto], [Subtotal], [TelefonoCliente], [TipoDocumento], [Total], [UsuarioCreadorId])
OUTPUT INSERTED.[FacturaId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
API.Controllers.FacturacionController: Information: 💳 Detalle de pago único creado: efectivo - ₡13560.000
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = Int32), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 200), @p5='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (Size = 50), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (Size = 300), @p15='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [DetallesFactura] ([Cantidad], [DescripcionProducto], [FacturaId], [MontoDescuento], [NombreProducto], [PorcentajeDescuento], [PrecioUnitario], [ProductoId], [ServicioId], [Subtotal])
OUTPUT INSERTED.[DetalleFacturaId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [DetallesPago] ([FacturaId], [FechaPago], [MetodoPago], [Monto], [Observaciones], [Referencia])
OUTPUT INSERTED.[DetallePagoId]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15);
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 890.7822ms - 200
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 894.1556ms - 200
GestionLlantera.Web.Services.FacturacionService: Information: 📥 Respuesta de API: OK - {"success":true,"message":"Proforma creada y COMPLETADA exitosamente","numeroFactura":"PROF-202509-000002","facturaId":2351}
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Número de factura extraído: PROF-202509-000002, ID: 2351
✅ Documento creado: {success: true, data: {…}, numeroFactura: 'PROF-202509-000002', facturaId: 2351, message: 'Factura creada exitosamente'}
📋 Proforma creada - Generando recibo
🖨️ === GENERANDO RECIBO PARA FACTURA COMPLETADA ===
🖨️ Resultado factura: {success: true, data: {…}, numeroFactura: 'PROF-202509-000002', facturaId: 2351, message: 'Factura creada exitosamente'}
🖨️ Productos: (1) [{…}]
🖨️ Método de pago: efectivo
🖨️ Factura pendiente actual: null
🖨️ Factura preservada para recibo: undefined
🖨️ Es pago múltiple: false
🖨️ Detalles de pago: (0) []
🖨️ Datos desde resultadoFactura: {numeroFactura: 'PROF-202509-000002', nombreCliente: 'Cliente General', usuarioCreadorNombre: 'Sistema'}
🖨️ Nombre cliente completado desde clienteSeleccionado: Ulises Monge Aguilar
👤 === OBTENIENDO USUARIO ACTUAL EN FACTURACIÓN ===
👤 facturaConfig disponible: true
👤 Usuario encontrado en facturaConfig: {usuarioId: 17, id: 17, nombre: 'Administrador', nombreUsuario: 'Administrador', email: 'admin@llantasymastc.com'}
👤 Tipo de usuario obtenido: object
👤 Propiedades del usuario: (5) ['usuarioId', 'id', 'nombre', 'nombreUsuario', 'email']
👤 ID de usuario: 17
👤 Nombre de usuario: Administrador
🖨️ Usuario creador completado desde usuarioActual: Administrador
🖨️ Información final determinada: {numeroFactura: 'PROF-202509-000002', nombreCliente: 'Ulises Monge Aguilar', usuarioCreadorNombre: 'Administrador'}
🖨️ Usando configuración para método: efectivo
🖨️ Datos del recibo preparados: {datosRecibo: {…}, cantidadProductos: 1, totalCalculado: 13560, numeroFactura: 'PROF-202509-000002', cliente: 'Ulises Monge Aguilar', …}
🖨️ === GENERANDO RECIBO (usando módulo térmico) ===
🖨️ Datos recibidos: {factura: {…}, productos: 1, totales: {…}}
🖨️ Información de pago múltiple: null
🖨️ Opciones del recibo: {ancho: 80, tipo: 'proforma', pagoMultiple: null, esReimpresion: false}
🖨️ === INICIANDO GENERACIÓN DE RECIBO TÉRMICO ===
🖨️ Datos recibidos: {datosFactura: {…}, productos: 1, totales: {…}}
🔍 === DEBUG SECCIÓN PAGO MEJORADO ===
🔍 totales completo: {subtotal: 12000, iva: 1560, total: 13560, metodoPago: 'efectivo', detallesPago: null, …}
🔍 totales.metodoPago: efectivo
🔍 totales.detallesPago: null
🔍 totales.infoPagoMultiple: null
🔍 detallesPago (parámetro): null
🔍 window.detallesPagoActuales: undefined
🔍 detallesPagoValidos: undefined
🖨️ Iniciando impresión con ventana emergente
✅ Ventana de impresión creada exitosamente
✅ Recibo térmico generado exitosamente
✅ Recibo de factura completada generado exitosamente
✅ Número: PROF-202509-000002
✅ Cliente: Ulises Monge Aguilar
✅ Cajero: Administrador
✅ Pago múltiple: No
✅ Es reimpresión: No
🧮 Actualizando totales...
🎯 Actualizando estado botones: {tieneProductos: false, tieneCliente: false, totalItems: 0}
📄 Script de impresión térmica cargado
🔍 Ventana de impresión térmica inicializada
🖨️ Ejecutando impresión automática...
🖨️ Impresión ya ejecutada
📦 === ACTUALIZANDO VISTA POST-AJUSTE ===
🧹 Limpiando estado de búsqueda...
📦 === INICIO cargarProductosIniciales ===
📦 cargaInicialCompletada: false
📦 Iniciando carga de productos iniciales...
🔍 === INICIO buscarProductos ===
🔍 CONTADOR DE LLAMADAS: 2
🔍 Término recibido: ""
🔍 busquedaEnProceso: false
🔍 ultimaBusqueda: ""
🔍 Iniciando búsqueda válida...
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Services.InventarioService: Information: 🔍 === INICIANDO OBTENCIÓN DE PRODUCTOS ===
GestionLlantera.Web.Services.InventarioService: Information: 🔐 Token JWT configurado para la petición
GestionLlantera.Web.Services.InventarioService: Information: 🌐 URL construida: https://localhost:7273/api/Inventario/productos
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Inventario/productos
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Inventario/productos
API.Controllers.InventarioController: Information: 🚀 === INICIANDO OBTENCIÓN DE PRODUCTOS ===
API.Controllers.InventarioController: Information: 🚀 Usuario: Administrador
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'VerCostos'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'VerCostos'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'VerCostos': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'VerCostos'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'VerUtilidades'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'VerUtilidades'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'VerUtilidades': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'VerUtilidades'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
API.Controllers.InventarioController: Information: 🔍 Usuario Administrador - VerCostos: True, VerUtilidades: True
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Productos] AS [p]
API.Controllers.InventarioController: Information: 📊 Total de productos en base de datos: 6
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [PedidosProveedor] AS [p]
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [PedidosProveedor] AS [p]
WHERE [p].[Estado] = 'Pendiente'
API.Controllers.InventarioController: Information: 📦 Total de pedidos: 0, Pendientes: 0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [DetallePedido] AS [d]
API.Controllers.InventarioController: Information: 📋 Total de detalles de pedidos: 0
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [p].[PedidoID] AS [PedidoId], [p].[Estado], [p].[FechaPedido]
FROM [PedidosProveedor] AS [p]
WHERE [p].[Estado] = 'Pendiente'
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [p].[ProductoID], [p].[NombreProducto], [p].[Descripcion], [p].[Costo], [p].[PorcentajeUtilidad], CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN [p].[Costo] * ([p].[PorcentajeUtilidad] / 100.0)
    ELSE NULL
END, CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN [p].[Costo] + ([p].[Costo] * ([p].[PorcentajeUtilidad] / 100.0))
    ELSE [p].[Precio]
END, CASE
    WHEN ([p].[Costo] IS NOT NULL) AND ([p].[PorcentajeUtilidad] IS NOT NULL) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [p].[Precio], [p].[CantidadEnInventario], [p].[StockMinimo], [p].[FechaUltimaActualizacion], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DetallePedido] AS [d]
        LEFT JOIN [PedidosProveedor] AS [p0] ON [d].[PedidoID] = [p0].[PedidoID]
        WHERE [d].[ProductoID] = [p].[ProductoID] AND ([p0].[PedidoID] IS NOT NULL) AND [p0].[Estado] = 'Pendiente') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END, [i].[ImagenID], [i].[URLImagen], [i].[Descripcion], [i].[FechaCreacion], [t0].[LlantaId], [t0].[Ancho], [t0].[Perfil], [t0].[Diametro], [t0].[Marca], [t0].[Modelo], [t0].[Capas], [t0].[IndiceVelocidad], [t0].[TipoTerreno], [t0].[c]
FROM [Productos] AS [p]
LEFT JOIN [ImagenesProducto] AS [i] ON [p].[ProductoID] = [i].[ProductoID]
LEFT JOIN (
    SELECT [t].[LlantaId], [t].[Ancho], [t].[Perfil], [t].[Diametro], [t].[Marca], [t].[Modelo], [t].[Capas], [t].[IndiceVelocidad], [t].[TipoTerreno], [t].[c], [t].[ProductoID]
    FROM (
        SELECT [l].[LlantaID] AS [LlantaId], [l].[Ancho], [l].[Perfil], [l].[Diametro], [l].[Marca], [l].[Modelo], [l].[Capas], [l].[IndiceVelocidad], [l].[TipoTerreno], 1 AS [c], [l].[ProductoID], ROW_NUMBER() OVER(PARTITION BY [l].[ProductoID] ORDER BY [l].[LlantaID]) AS [row]
        FROM [Llantas] AS [l]
    ) AS [t]
    WHERE [t].[row] <= 1
) AS [t0] ON [p].[ProductoID] = [t0].[ProductoID]
ORDER BY [p].[ProductoID]
API.Controllers.InventarioController: Information: 📦 Productos obtenidos de la consulta: 6
API.Controllers.InventarioController: Information: 🔥 Productos con pedido pendiente: 0
API.Controllers.InventarioController: Information: ❌ Producto SIN pedido pendiente: ID=1, Nombre='Llanta Pirelli Confort 2', TienePedidoPendiente=False
API.Controllers.InventarioController: Information: ❌ Producto SIN pedido pendiente: ID=2, Nombre='Llanta DUNLOP', TienePedidoPendiente=False
API.Controllers.InventarioController: Information: ✅ === PRODUCTOS OBTENIDOS EXITOSAMENTE ===
API.Controllers.InventarioController: Information: ✅ Total enviado al cliente: 6 productos
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 54.5915ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 56.9191ms - 200
GestionLlantera.Web.Services.InventarioService: Information: 📄 Respuesta recibida de la API, procesando 5481 caracteres...
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta Pirelli Confort 2 (ID: 1, Precio: 22440, Stock: 9, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 2, Precio: 25990, Stock: 7, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 4, Precio: 13000, Stock: 8, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 5, Precio: 16500, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 6, Precio: 15499.5, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: 🖼️ Imagen procesada: https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg
GestionLlantera.Web.Services.InventarioService: Information: ✅ Producto procesado: Llanta DUNLOP (ID: 7, Precio: 11499.6, Stock: 10, Es Llanta: True)
GestionLlantera.Web.Services.InventarioService: Information: 🎉 PROCESO COMPLETADO: 6 productos procesados exitosamente
📋 Respuesta del servidor recibida
✅ Se encontraron 6 productos disponibles
🔄 === INICIO mostrarResultadosProductos ===
🔄 CONTADOR DE LLAMADAS: 2
🔄 Productos recibidos: 6
🔄 Construyendo HTML para 6 productos
🖼️ Procesando imágenes para producto: Llanta Pirelli Confort 2
🖼️ Datos del producto: {imagenesProductos: Array(3), imagenesUrls: Array(3), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (3) ['https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp']
🖼️ Imágenes desde imagenesUrls: (3) ['https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_2_Llanta_Pirelli_Confort_2_225_50R15.webp', 'https://localhost:7273/uploads/productos/1_3_Llanta_Pirelli_Confort_2_225_50R15.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/1_1_Llanta_Pirelli_Confort_2_225_50R15.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/50/R15', medidaFinal: '225/50/R15', nombreProducto: 'Llanta Pirelli Confort 2'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/2_1_Llanta_DUNLOP_205_35R16.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '205/35/R16', medidaFinal: '205/35/R16', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/4_1_Llanta_DUNLOP_225_80R20.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/80/R20', medidaFinal: '225/80/R20', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/5_1_Llanta_DUNLOP_225_30R15.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/30/R15', medidaFinal: '225/30/R15', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(1), imagenesUrls: Array(1), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (1) ['https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp']
🖼️ Imágenes desde imagenesUrls: (1) ['https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp']
🖼️ URL original: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
🖼️ URL final construida: https://localhost:7273/uploads/productos/6_1_Llanta_DUNLOP_250_70R16.webp
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '250/70/R16', medidaFinal: '250/70/R16', nombreProducto: 'Llanta DUNLOP'}
🖼️ Procesando imágenes para producto: Llanta DUNLOP
🖼️ Datos del producto: {imagenesProductos: Array(4), imagenesUrls: Array(4), imagenes: undefined}
🖼️ Imágenes desde imagenesProductos: (4) ['https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg']
🖼️ Imágenes desde imagenesUrls: (4) ['https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_2_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_3_Llanta_DUNLOP_225_60R16.jpg', 'https://localhost:7273/uploads/productos/7_4_Llanta_DUNLOP_225_60R16.jpg']
🖼️ URL original: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
🖼️ URL final construida: https://localhost:7273/uploads/productos/7_1_Llanta_DUNLOP_225_60R16.jpg
🔧 Debug llanta: {esLlanta: true, medidaOriginal: undefined, medidaMapeada: '225/60/R16', medidaFinal: '225/60/R16', nombreProducto: 'Llanta DUNLOP'}
🔄 Actualizando DOM (longitud HTML: 27970 caracteres)
🔄 === FIN mostrarResultadosProductos ===
📦 Carga inicial marcada como completada después de primera búsqueda exitosa
📦 Productos mostrados exitosamente
🔍 === FIN buscarProductos ===
📦 Búsqueda inicial ejecutada
📦 === FIN cargarProductosIniciales (exitosa) ===
✅ Vista principal de productos actualizada
El subproceso '.NET ThreadPool Worker' (35428) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (43988) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (33300) terminó con código 0 (0x0).
El subproceso 3 terminó con código 0 (0x0).
El subproceso 2 terminó con código 0 (0x0).
El programa '' terminó con código 4294967295 (0xffffffff).
🖨️ Evento afterprint detectado
✅ Comando de impresión enviado
El programa 'print « Adaptador de depuración de JavaScript' terminó con código 4294967295 (0xffffffff).
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 56.4093ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 59.366ms - 200
El subproceso 1 terminó con código 0 (0x0).
El programa 'about:blank « Adaptador de depuración de JavaScript' terminó con código 4294967295 (0xffffffff).
📋 === ABRIENDO MODAL DE PROFORMAS ===
📋 *** MODAL DE PROFORMAS COMPLETAMENTE VISIBLE ***
📋 Elementos disponibles en el DOM:
📋 - Input búsqueda: 1
📋 - Select estado: 1
📋 - Tabla body: 1
📋 - Loading: 1
📋 - Content: 1
📅 Ejecutando verificación automática de vencimiento...
📅 === VERIFICANDO VENCIMIENTO AUTOMÁTICAMENTE ===
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 📅 Verificando vencimiento de proformas desde controlador Web
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
ValidarPermisoAsync: Information: 🔍 === INICIO VALIDACIÓN DE PERMISO ===
ValidarPermisoAsync: Information: 🔍 Permiso solicitado: 'Administrar Proformas'
ValidarPermisoAsync: Information: 🔍 Usuario: Administrador
ValidarPermisoAsync: Information: 🔍 Controlador: FacturacionController
ValidarPermisoAsync: Information: 🔍 Acción: VerificarVencimientoProformas
ValidarPermisoAsync: Information: 🔍 ID Usuario obtenido: 17
ValidarPermisoAsync: Information: 🔍 Es administrador: False
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Administrar Proformas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Administrar Proformas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Administrar Proformas': False
API.ServicesAPI.PermisosService: Information: 🔍 Variaciones encontradas: []
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 NO TIENE permiso 'Administrar Proformas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: False
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
ValidarPermisoAsync: Information: 🔍 Resultado TienePermisoAsync: False
ValidarPermisoAsync: Warning: 🚫 PERMISO DENEGADO - Usuario: Administrador, Permiso: Administrar Proformas
GestionLlantera.Web.Controllers.FacturacionController: Error: ❌ Error del API verificando vencimiento: Forbidden - {"message":"Solo usuarios con permiso 'Administrar Proformas' pueden verificar vencimiento","permisoRequerido":"Administrar Proformas","tienePermiso":false,"usuario":"Administrador","esAdministrador":false,"userId":17}
📅 Resultado verificación automática: {success: false, message: 'Error del servidor al verificar vencimiento'}
⚠️ Error en verificación automática: Error del servidor al verificar vencimiento
✅ Inicializando filtros de proformas...
🔍 === INICIALIZANDO FILTROS DE PROFORMAS (FRONTEND) ===
🔍 Configurando eventos de filtrado...
✅ Evento de búsqueda configurado
✅ Evento de estado configurado
✅ Botón limpiar configurado
✅ Evento de proformas por página configurado
📋 === CARGANDO TODAS LAS PROFORMAS ===
✅ Filtros de proformas inicializados correctamente
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Solicitud de proformas desde el controlador Web
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Parámetros: Estado=(null), Página=1, Tamaño=1000
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Services.FacturacionService: Information: 📋 === OBTENIENDO PROFORMAS DESDE SERVICIO ===
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Parámetros: Estado=(null), Página=1, Tamaño=1000
GestionLlantera.Web.Services.FacturacionService: Information: 📋 URL construida: https://localhost:7273/api/Facturacion/proformas?pagina=1&tamano=1000
ValidarPermisoAsync: Information: 🔍 === INICIO VALIDACIÓN DE PERMISO ===
ValidarPermisoAsync: Information: 🔍 Permiso solicitado: 'Ver Facturación'
ValidarPermisoAsync: Information: 🔍 Usuario: Administrador
ValidarPermisoAsync: Information: 🔍 Controlador: FacturacionController
ValidarPermisoAsync: Information: 🔍 Acción: ObtenerProformas
ValidarPermisoAsync: Information: 🔍 ID Usuario obtenido: 17
ValidarPermisoAsync: Information: 🔍 Es administrador: False
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Ver Facturación'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Ver Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (0ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Ver Facturación': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Ver Facturación'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
ValidarPermisoAsync: Information: 🔍 Resultado TienePermisoAsync: True
ValidarPermisoAsync: Information: ✅ PERMISO CONCEDIDO - Usuario: Administrador, Permiso: Ver Facturación
ValidarPermisoAsync: Information: 🔍 === FIN VALIDACIÓN DE PERMISO (EXITOSA) ===
API.Controllers.FacturacionController: Information: 📋 === OBTENIENDO PROFORMAS CON FILTROS ===
API.Controllers.FacturacionController: Information: 📋 Parámetros recibidos: Estado=(null), BusquedaGeneral=(null), Busqueda=(null), Página=1, Tamaño=1000
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Facturas] AS [f]
WHERE [f].[TipoDocumento] = N'Proforma'
API.Controllers.FacturacionController: Information: 📋 Total de proformas sin filtros: 2
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Facturas] AS [f]
WHERE [f].[TipoDocumento] = N'Proforma'
API.Controllers.FacturacionController: Information: 📋 Total final después de todos los filtros: 2
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT [t].[FacturaId], [t].[NumeroFactura], [t].[ClienteId], [t].[NombreCliente], [t].[IdentificacionCliente], [t].[TelefonoCliente], [t].[EmailCliente], [t].[DireccionCliente], [t].[FechaFactura], [t].[FechaVencimiento], [t].[Subtotal], [t].[DescuentoGeneral], [t].[PorcentajeImpuesto], COALESCE([t].[MontoImpuesto], 0.0), [t].[Total], [t].[Estado], [t].[TipoDocumento], [t].[MetodoPago], [t].[Observaciones], [t].[UsuarioCreadorId], [u].[NombreUsuario], [t].[FechaCreacion], [t].[FechaActualizacion], [u].[UsuarioID], [d].[DetalleFacturaId], [d].[ProductoId], [d].[NombreProducto], [d].[DescripcionProducto], [d].[Cantidad], [d].[PrecioUnitario], [d].[PorcentajeDescuento], [d].[MontoDescuento], [d].[Subtotal]
FROM (
    SELECT [f].[FacturaId], [f].[ClienteId], [f].[DescuentoGeneral], [f].[DireccionCliente], [f].[EmailCliente], [f].[Estado], [f].[FechaActualizacion], [f].[FechaCreacion], [f].[FechaFactura], [f].[FechaVencimiento], [f].[IdentificacionCliente], [f].[MetodoPago], [f].[MontoImpuesto], [f].[NombreCliente], [f].[NumeroFactura], [f].[Observaciones], [f].[PorcentajeImpuesto], [f].[Subtotal], [f].[TelefonoCliente], [f].[TipoDocumento], [f].[Total], [f].[UsuarioCreadorId]
    FROM [Facturas] AS [f]
    WHERE [f].[TipoDocumento] = N'Proforma'
    ORDER BY [f].[FechaCreacion] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [Usuarios] AS [u] ON [t].[UsuarioCreadorId] = [u].[UsuarioID]
LEFT JOIN [DetallesFactura] AS [d] ON [t].[FacturaId] = [d].[FacturaId]
ORDER BY [t].[FechaCreacion] DESC, [t].[FacturaId], [u].[UsuarioID]
API.Controllers.FacturacionController: Information: ✅ Se obtuvieron 2 proformas de 2 total
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Respuesta del API recibida exitosamente
GestionLlantera.Web.Services.FacturacionService: Information: 📋 API confirmó éxito en obtener proformas
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Resultado del servicio: Success=True, Message=Se encontraron 2 proformas
GestionLlantera.Web.Controllers.FacturacionController: Information: 📋 Procesando respuesta del API de proformas
📋 Respuesta del servidor: {success: true, proformas: Array(2), totalProformas: 2, pagina: 1, tamano: 1000, …}
✅ Proformas cargadas: 2
🔍 === APLICANDO FILTROS LOCALMENTE ===
🔍 Total proformas: 2
🔍 Filtros: {texto: '', estado: 'todos'}
🔍 Proformas filtradas: 2
📋 === MOSTRANDO PROFORMAS PAGINADAS ===
📋 Página actual: 1
📋 Proformas por página: 20
📋 Total páginas: 1
📋 Mostrando proformas: 0 a 20
📋 Proformas en esta página: 2
📋 === MOSTRANDO PROFORMAS EN TABLA ===
📋 Proformas a mostrar: 2
🔧 Configurando eventos de botones de proformas...
✅ Eventos de botones configurados
✅ Proformas mostradas en tabla
El subproceso '.NET ThreadPool Worker' (32896) terminó con código 0 (0x0).
🔄 Convertir proforma: {facturaId: 2351, numeroFactura: 'PROF-202509-000002', clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', …}
🔄 === CONVIRTIENDO PROFORMA A FACTURA ===
🔄 Proforma escapada recibida: {facturaId: 2351, numeroFactura: 'PROF-202509-000002', clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', …}
🔄 Tipo de dato recibido: object
🔄 Proforma recibida como objeto directo
🔄 Proforma deserializada: {facturaId: 2351, numeroFactura: 'PROF-202509-000002', clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', …}
🔄 === CARGANDO DATOS DE PROFORMA EN EL CARRITO ===
👤 Cliente cargado desde proforma: {clienteId: 14, nombre: 'Ulises Monge Aguilar', identificacion: '3-0435-0539', telefono: '6282-8588', email: 'umongegds@gmail.com', …}
📦 Cargando productos desde proforma: 1
📦 Producto 1 cargado: [SERVICIO] Cambio de Aceite - Mantenimiento x 1
📦 Total productos cargados en carrito: 1
🎯 Actualizando estado botones: {tieneProductos: true, tieneCliente: true, totalItems: 1}
🧮 Actualizando totales...
🎯 Actualizando estado botones: {tieneProductos: true, tieneCliente: true, totalItems: 1}
🔄 Interfaz actualizada con datos de la proforma
📋 Referencia de proforma guardada: {proformaId: 2351, facturaId: 2351, numeroProforma: 'PROF-202509-000002'}
📋 ID que se usará: 2351
🎯 === ABRIENDO MODAL FINALIZAR VENTA ===
🎯 Productos en carrito: 1
🎯 Cliente seleccionado: Ulises Monge Aguilar
📋 === DEPURACIÓN CLIENTE SELECCIONADO ===
📋 Cliente completo: {clienteId: 14, nombre: 'Ulises Monge Aguilar', identificacion: '3-0435-0539', telefono: '6282-8588', email: 'umongegds@gmail.com', …}
📋 Propiedades disponibles: (6) ['clienteId', 'nombre', 'identificacion', 'telefono', 'email', 'direccion']
📋 Factura pendiente actual: null
📋 Proforma original para conversión: {proformaId: 2351, facturaId: 2351, numeroProforma: 'PROF-202509-000002'}
📋 Mostrando información de conversión de proforma
🎯 === CONFIGURANDO MODAL SEGÚN PERMISOS ===
🎯 Permisos del usuario: {puedeCrearFacturas: true, puedeCompletarFacturas: true, puedeEditarFacturas: true, puedeAnularFacturas: true, esAdmin: false}
🎯 puedeCompletarFacturas: true
🎯 puedeCrearFacturas: true
🎯 esAdmin: false
🎯 Es conversión de proforma: true
🎯 Es factura pendiente: false
🎯 Botón de proforma mostrado - No es factura pendiente
📄 Modal configurado para conversión de proforma
📋 Datos mapeados para formulario: {nombre: 'Ulises Monge Aguilar', cedula: '3-0435-0539', telefono: '6282-8588', email: 'umongegds@gmail.com', direccion: 'Limon Costa Rica'}
✅ Modal de finalizar venta mostrado correctamente
🎯 === ESTADO FINAL DEL BOTÓN FINALIZAR ===
🎯 Clases CSS: btn btn-success
🎯 Deshabilitado: false
🎯 Texto: 
                    
                    Convertir y Completar
                
🎯 Título: Convertir proforma a factura, procesar pago y ajustar stock
🎯 Botón Proforma Visible: false
🎯 === FIN CONFIGURACIÓN INTERFAZ ===
🔍 === PROCESANDO VENTA FINAL ===
🔍 Es pago múltiple: false
🔍 Detalles de pago actuales: (0) []
🔍 Es factura pendiente: false
🔍 Factura ID: null
🆕 Creando nueva factura
🆕 === CREANDO NUEVO DOCUMENTO ===
🆕 Tipo de documento: Factura
🆕 Es conversión de proforma: true
🔐 === VERIFICACIÓN DE PERMISOS ===
🔐 puedeCompletarFacturas: true
🔐 puedeCrearFacturas: true
🔐 tipoDocumento: Factura
👑 Procesando con permiso CompletarFacturas - Factura pagada inmediatamente con ajuste de stock
📋 Estado determinado: {tipoDocumento: 'Factura', estadoFactura: 'Pagada', fechaVencimiento: null, debeImprimir: true, debeAjustarInventario: true, …}
👤 === OBTENIENDO USUARIO ACTUAL EN FACTURACIÓN ===
👤 facturaConfig disponible: true
👤 Usuario encontrado en facturaConfig: {usuarioId: 17, id: 17, nombre: 'Administrador', nombreUsuario: 'Administrador', email: 'admin@llantasymastc.com'}
👤 Tipo de usuario obtenido: object
👤 Propiedades del usuario: (5) ['usuarioId', 'id', 'nombre', 'nombreUsuario', 'email']
👤 ID de usuario: 17
👤 Nombre de usuario: Administrador
👤 Usuario actual para documento: {usuario: {…}, usuarioId: 17}
📝 Observaciones con información de proforma: Convertido desde proforma PROF-202509-000002
📋 Datos de documento preparados: {clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', telefonoCliente: '6282-8588', emailCliente: 'umongegds@gmail.com', …}
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 === INICIO CrearFactura ===
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Usuario: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Autenticado: True
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Controllers.FacturacionController: Information: 🚀 Enviando factura usando servicio: Ulises Monge Aguilar
GestionLlantera.Web.Controllers.FacturacionController: Information: 📊 Total productos: 1, Total: 13560
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 Token JWT disponible: 2137 caracteres
Excepción producida: 'System.ObjectDisposedException' en System.Private.CoreLib.dll
GestionLlantera.Web.Services.FacturacionService: Information: 🧾 Creando factura usando servicio de facturación
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Factura recibida para procesamiento: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:56:11.387Z","FechaVencimiento":null,"Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Pagada","TipoDocumento":"Factura","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"Convertido desde proforma PROF-202509-000002","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":false}
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades de la factura recibida:
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FacturaId: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NumeroFactura: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ClienteId: 14
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NombreCliente: Ulises Monge Aguilar
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   IdentificacionCliente: 3-0435-0539
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TelefonoCliente: 6282-8588
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EmailCliente: umongegds@gmail.com
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DireccionCliente: Limon Costa Rica
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaFactura: 9/7/2025 3:56:11 AM
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaVencimiento: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Subtotal: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DescuentoGeneral: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   PorcentajeImpuesto: 13
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoImpuesto: 1560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Total: 13560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Estado: Pagada
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TipoDocumento: Factura
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MetodoPago: efectivo
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesPago: []
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsPagoMultiple: False
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Observaciones: Convertido desde proforma PROF-202509-000002
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorId: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorNombre: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaCreacion: 1/1/0001 12:00:00 AM
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaActualizacion: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesFactura: [
  {
    "DetalleFacturaId": 0,
    "FacturaId": 0,
    "ProductoId": 0,
    "ServicioId": nul...
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalSinDescuento: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoDescuentoTotal: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalConDescuento: 12000
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ImpuestoCalculado: 1560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TotalCalculado: 13560
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   CantidadItems: 1
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsProforma: False
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Número de Factura generado: FAC-202509-300746
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 === DEBUGGING JWT TOKEN COMPLETO ===
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Payload JWT completo: {"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name":"Administrador","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress":"admin@llantasymastc.com","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier":"17","userId":"17","Permission":["Crear Facturas","Ver Costos","Ver Utilidades","Programar Inventario","Gestion Completa","Editar Productos","Eliminar Productos","Ajustar Stock","Ver Reportes","Gestion Usuarios","VerCostos","VerUtilidades","ProgramarInventario","Iniciar Inventario","Completar Inventario","Descargar Reportes","Ver Facturación","Editar Clientes","Ver Productos","Ver Historial Inventarios Completo","CompletarFacturas","EditarFacturas","AnularFacturas","Crear Clientes","Ver Clientes","Eliminar Clientes","Entregar Pendientes","Prueba","Menu_Inventario","Sub_Menu_VerProductos","Sub_Menu_AgregarProductos","Sub_Menu_ProgramarInventario","Sub_Menu_HistorialInventario","Menu_Ventas","Sub_Menu_Clientes","Sub_Menu_Facturación","Sub_Menu_ReportesVentas","Sub_Menu_EntregasPendientes","Menu_Proveedores","Sub_Menu_GestionProveedores","Sub_Menu_PedidosProveedores","Menu_Reportes","Sub_Menu_ExportarExcel","Sub_Menu_ExportarPDF","Menu_Configuración","Sub_Menu_RolesPermisos","Sub_Menu_GestionUsuarios","Menu_HerramientasSistemaDEV","Sub_Menu_DiagnosticoPermisosDEV","Sub_Menu_LogsSistemaDEV","Ver Historial Inventarios","Ver Detalle Producto","Configuracion","Crear Anuncios","Menu_Servicios","Ver Servicios","Editar Servicios"],"exp":1757220917,"iss":"Tuco.API","aud":"Tuco.Client"}
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades disponibles en el token:
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: Administrador
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: admin@llantasymastc.com
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   userId: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Permission: [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
 ...
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   exp: 1757220917
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   iss: Tuco.API
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   aud: Tuco.Client
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Permisos encontrados en campo 'Permission': [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
  "Gestion Usuarios",
  "VerCostos",
  "VerUtilidades",
  "ProgramarInventario",
  "Iniciar Inventario",
  "Completar Inventario",
  "Descargar Reportes",
  "Ver Facturación",
  "Editar Clientes",
  "Ver Productos",
  "Ver Historial Inventarios Completo",
  "CompletarFacturas",
  "EditarFacturas",
  "AnularFacturas",
  "Crear Clientes",
  "Ver Clientes",
  "Eliminar Clientes",
  "Entregar Pendientes",
  "Prueba",
  "Menu_Inventario",
  "Sub_Menu_VerProductos",
  "Sub_Menu_AgregarProductos",
  "Sub_Menu_ProgramarInventario",
  "Sub_Menu_HistorialInventario",
  "Menu_Ventas",
  "Sub_Menu_Clientes",
  "Sub_Menu_Facturación",
  "Sub_Menu_ReportesVentas",
  "Sub_Menu_EntregasPendientes",
  "Menu_Proveedores",
  "Sub_Menu_GestionProveedores",
  "Sub_Menu_PedidosProveedores",
  "Menu_Reportes",
  "Sub_Menu_ExportarExcel",
  "Sub_Menu_ExportarPDF",
  "Menu_Configuración",
  "Sub_Menu_RolesPermisos",
  "Sub_Menu_GestionUsuarios",
  "Menu_HerramientasSistemaDEV",
  "Sub_Menu_DiagnosticoPermisosDEV",
  "Sub_Menu_LogsSistemaDEV",
  "Ver Historial Inventarios",
  "Ver Detalle Producto",
  "Configuracion",
  "Crear Anuncios",
  "Menu_Servicios",
  "Ver Servicios",
  "Editar Servicios"
]
GestionLlantera.Web.Services.FacturacionService: Information: 🔐 Permisos extraídos del token: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Usuario tiene permiso CompletarFacturas - Estado: Pagada
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Estado de factura asignado: Pagada
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Validación de productos exitosa: se encontraron productos en la factura
GestionLlantera.Web.Services.FacturacionService: Information: 📤 JSON enviado a API: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:56:11","FechaVencimiento":null,"Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Pagada","TipoDocumento":"Factura","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"Convertido desde proforma PROF-202509-000002","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":false,"numeroFactura":"FAC-202509-300746","fechaCreacion":"2025-09-06T21:56:13","estado":"Pagada","nombreCliente":"Ulises Monge Aguilar","detallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}]}
GestionLlantera.Web.Services.FacturacionService: Information: 🌐 URL construida: https://localhost:7273/api/Facturacion/facturas
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request POST https://localhost:7273/api/Facturacion/facturas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request POST https://localhost:7273/api/Facturacion/facturas
ValidarPermisoAsync: Information: 🔍 === INICIO VALIDACIÓN DE PERMISO ===
ValidarPermisoAsync: Information: 🔍 Permiso solicitado: 'Crear Facturas'
ValidarPermisoAsync: Information: 🔍 Usuario: Administrador
ValidarPermisoAsync: Information: 🔍 Controlador: FacturacionController
ValidarPermisoAsync: Information: 🔍 Acción: CrearFactura
ValidarPermisoAsync: Information: 🔍 ID Usuario obtenido: 17
ValidarPermisoAsync: Information: 🔍 Es administrador: False
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'Crear Facturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Crear Facturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
ValidarPermisoAsync: Information: 🔍 Resultado TienePermisoAsync: True
ValidarPermisoAsync: Information: ✅ PERMISO CONCEDIDO - Usuario: Administrador, Permiso: Crear Facturas
ValidarPermisoAsync: Information: 🔍 === FIN VALIDACIÓN DE PERMISO (EXITOSA) ===
API.Controllers.FacturacionController: Information: 💰 Usuario Administrador creando factura para cliente: Ulises Monge Aguilar
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'CompletarFacturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (0ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'CompletarFacturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
API.Controllers.FacturacionController: Information: ✅ Usuario autorizado envió factura como PAGADA
API.Controllers.FacturacionController: Information: 🔐 Estado inicial determinado: Pagada (Usuario puede completar: True, Estado enviado: Pagada)
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__tipoDocumento_0='?' (Size = 20), @__año_1='?' (DbType = Int32), @__mes_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Facturas] AS [f]
WHERE [f].[TipoDocumento] = @__tipoDocumento_0 AND DATEPART(year, [f].[FechaFactura]) = @__año_1 AND DATEPART(month, [f].[FechaFactura]) = @__mes_2
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 300), @p3='?' (Size = 200), @p4='?' (Size = 20), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 200), @p13='?' (Size = 50), @p14='?' (Size = 500), @p15='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 20), @p18='?' (Size = 20), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([ClienteId], [DescuentoGeneral], [DireccionCliente], [EmailCliente], [Estado], [FechaActualizacion], [FechaCreacion], [FechaFactura], [FechaVencimiento], [IdentificacionCliente], [MetodoPago], [MontoImpuesto], [NombreCliente], [NumeroFactura], [Observaciones], [PorcentajeImpuesto], [Subtotal], [TelefonoCliente], [TipoDocumento], [Total], [UsuarioCreadorId])
OUTPUT INSERTED.[FacturaId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
API.Controllers.FacturacionController: Information: 💳 Detalle de pago único creado: efectivo - ₡13560.000
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 782.5103ms - 400
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 785.2106ms - 400
GestionLlantera.Web.Services.FacturacionService: Information: 📥 Respuesta de API: BadRequest - {"message":"El detalle '[SERVICIO] Cambio de Aceite - Mantenimiento' debe tener un ProductoId o ServicioId válido."}
GestionLlantera.Web.Services.FacturacionService: Error: ❌ Error de API al crear factura: BadRequest - {"message":"El detalle '[SERVICIO] Cambio de Aceite - Mantenimiento' debe tener un ProductoId o ServicioId válido."}
Excepción producida: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' en Microsoft.CSharp.dll
GestionLlantera.Web.Controllers.FacturacionController: Error: ❌ Error del servicio al crear factura: El detalle '[SERVICIO] Cambio de Aceite - Mantenimiento' debe tener un ProductoId o ServicioId válido.
✅ Documento creado: {success: false, message: "El detalle '[SERVICIO] Cambio de Aceite - Ma…ebe tener un ProductoId o ServicioId válido.", details: `{"message":"El detalle '[SERVICIO] Cambio de…e tener un ProductoId o ServicioId válido."}`}
El subproceso '.NET ThreadPool Worker' (27776) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (42948) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (41516) terminó con código 0 (0x0).
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 52.1245ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 54.5386ms - 200
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.ObjectDisposedException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.ObjectDisposedException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
El subproceso '.NET ThreadPool Worker' (39272) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (23960) terminó con código 0 (0x0).
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
API.Controllers.NotificacionesController: Information: Claims del usuario:
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 48.6429ms - 200
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 50.8937ms - 200
El subproceso '.NET ThreadPool Worker' (41816) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (40212) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (41076) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (25104) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (38248) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (37476) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (26784) terminó con código 0 (0x0).
El subproceso '.NET ThreadPool Worker' (42136) terminó con código 0 (0x0).
Excepción producida: 'System.IO.IOException' en System.Net.Sockets.dll
Excepción producida: 'System.IO.IOException' en System.Net.Security.dll
Excepción producida: 'System.IO.IOException' en System.Private.CoreLib.dll
🔍 === PROCESANDO VENTA FINAL ===
🔍 Es pago múltiple: false
🔍 Detalles de pago actuales: (0) []
🔍 Es factura pendiente: false
🔍 Factura ID: null
🆕 Creando nueva factura
🆕 === CREANDO NUEVO DOCUMENTO ===
🆕 Tipo de documento: Factura
🆕 Es conversión de proforma: true
🔐 === VERIFICACIÓN DE PERMISOS ===
🔐 puedeCompletarFacturas: true
🔐 puedeCrearFacturas: true
🔐 tipoDocumento: Factura
👑 Procesando con permiso CompletarFacturas - Factura pagada inmediatamente con ajuste de stock
📋 Estado determinado: {tipoDocumento: 'Factura', estadoFactura: 'Pagada', fechaVencimiento: null, debeImprimir: true, debeAjustarInventario: true, …}
👤 === OBTENIENDO USUARIO ACTUAL EN FACTURACIÓN ===
👤 facturaConfig disponible: true
👤 Usuario encontrado en facturaConfig: {usuarioId: 17, id: 17, nombre: 'Administrador', nombreUsuario: 'Administrador', email: 'admin@llantasymastc.com'}
👤 Tipo de usuario obtenido: object
👤 Propiedades del usuario: (5) ['usuarioId', 'id', 'nombre', 'nombreUsuario', 'email']
👤 ID de usuario: 17
👤 Nombre de usuario: Administrador
👤 Usuario actual para documento: {usuario: {…}, usuarioId: 17}
📝 Observaciones con información de proforma: Convertido desde proforma PROF-202509-000002
📋 Datos de documento preparados: {clienteId: 14, nombreCliente: 'Ulises Monge Aguilar', identificacionCliente: '3-0435-0539', telefonoCliente: '6282-8588', emailCliente: 'umongegds@gmail.com', …}
GestionLlantera.Web.Services.InventarioService: Information: 🔧 InventarioService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.FacturacionService: Information: 🔧 FacturacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 === INICIO CrearFactura ===
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Usuario: Administrador
GestionLlantera.Web.Controllers.FacturacionController: Information: 🧾 Autenticado: True
GestionLlantera.Web.Controllers.FacturacionController: Information: ✅ Token JWT obtenido correctamente para usuario: Administrador, Longitud: 2137
GestionLlantera.Web.Controllers.FacturacionController: Information: 🚀 Enviando factura usando servicio: Ulises Monge Aguilar
GestionLlantera.Web.Controllers.FacturacionController: Information: 📊 Total productos: 1, Total: 13560
GestionLlantera.Web.Controllers.FacturacionController: Information: 🔐 Token JWT disponible: 2137 caracteres
GestionLlantera.Web.Services.FacturacionService: Information: 🧾 Creando factura usando servicio de facturación
GestionLlantera.Web.Services.NotificacionService: Information: 🔧 NotificacionService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.DashboardService: Information: 🔧 DashboardService inicializado. URL base API: https://localhost:7273
GestionLlantera.Web.Services.NotificacionService: Information: Token JWT configurado en el HttpClient
GestionLlantera.Web.Controllers.DashboardController: Information: 👥 Obteniendo usuarios conectados para dashboard
GestionLlantera.Web.Services.NotificacionService: Information: 🌐 URL construida: https://localhost:7273/api/Notificaciones/conteo-no-leidas
GestionLlantera.Web.Services.DashboardService: Information: 👥 Solicitando usuarios conectados desde dashboard service
System.Net.Http.HttpClient.Default.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
GestionLlantera.Web.Services.DashboardService: Information: 🔐 Token JWT configurado para obtener usuarios conectados
System.Net.Http.HttpClient.Default.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/Notificaciones/conteo-no-leidas
GestionLlantera.Web.Services.DashboardService: Information: 🌐 URL construida: https://localhost:7273/api/dashboard/usuarios-conectados
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Factura recibida para procesamiento: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:57:20.297Z","FechaVencimiento":null,"Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Pagada","TipoDocumento":"Factura","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"Convertido desde proforma PROF-202509-000002","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":false}
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades de la factura recibida:
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request GET https://localhost:7273/api/dashboard/usuarios-conectados
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FacturaId: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NumeroFactura: 
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ClienteId: 14
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   NombreCliente: Ulises Monge Aguilar
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   IdentificacionCliente: 3-0435-0539
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TelefonoCliente: 6282-8588
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EmailCliente: umongegds@gmail.com
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DireccionCliente: Limon Costa Rica
API.Controllers.NotificacionesController: Information: Claims del usuario:
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaFactura: 9/7/2025 3:57:20 AM
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name, Value: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress, Value: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier, Value: 17
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaVencimiento: 
API.Controllers.NotificacionesController: Information: Claim Type: userId, Value: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Costos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Subtotal: 12000
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Utilidades
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Programar Inventario
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Completa
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DescuentoGeneral: 0
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   PorcentajeImpuesto: 13
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Productos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoImpuesto: 1560
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Productos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Total: 13560
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ajustar Stock
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Estado: Pagada
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Reportes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TipoDocumento: Factura
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MetodoPago: efectivo
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Gestion Usuarios
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesPago: []
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsPagoMultiple: False
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerCostos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Observaciones: Convertido desde proforma PROF-202509-000002
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: VerUtilidades
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorId: 17
API.Controllers.DashboardController: Information: 📊 Obteniendo usuarios conectados para dashboard
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   UsuarioCreadorNombre: 
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: ProgramarInventario
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaCreacion: 1/1/0001 12:00:00 AM
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Iniciar Inventario
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   FechaActualizacion: 
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Completar Inventario
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   DetallesFactura: [
  {
    "DetalleFacturaId": 0,
    "FacturaId": 0,
    "ProductoId": 0,
    "ServicioId": nul...
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Descargar Reportes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalSinDescuento: 12000
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Facturación
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   MontoDescuentoTotal: 0
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Clientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   SubtotalConDescuento: 12000
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Productos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   ImpuestoCalculado: 1560
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios Completo
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   TotalCalculado: 13560
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: CompletarFacturas
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   CantidadItems: 1
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: EditarFacturas
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   EsProforma: False
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: AnularFacturas
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Número de Factura generado: FAC-202509-353653
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Clientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 === DEBUGGING JWT TOKEN COMPLETO ===
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (7ms) [Parameters=[@__fechaLimite_0='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
SELECT [s].[UsuarioID], (
    SELECT TOP(1) [u1].[NombreUsuario]
    FROM [SesionUsuario] AS [s0]
    LEFT JOIN [Usuarios] AS [u0] ON [s0].[UsuarioID] = [u0].[UsuarioID]
    LEFT JOIN [Usuarios] AS [u1] ON [s0].[UsuarioID] = [u1].[UsuarioID]
    WHERE [s0].[EstaActiva] = CAST(1 AS bit) AND [s0].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u0].[UsuarioID] IS NOT NULL) AND ([s].[UsuarioID] = [s0].[UsuarioID] OR (([s].[UsuarioID] IS NULL) AND ([s0].[UsuarioID] IS NULL)))), MAX([s].[FechaHoraInicio]), COUNT(*), GETDATE(), COALESCE(MAX([s].[FechaHoraInicio]), GETDATE())
FROM [SesionUsuario] AS [s]
LEFT JOIN [Usuarios] AS [u] ON [s].[UsuarioID] = [u].[UsuarioID]
WHERE [s].[EstaActiva] = CAST(1 AS bit) AND [s].[FechaHoraInicio] >= @__fechaLimite_0 AND ([u].[UsuarioID] IS NOT NULL)
GROUP BY [s].[UsuarioID]
ORDER BY MAX([s].[FechaHoraInicio]) DESC
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Payload JWT completo: {"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name":"Administrador","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress":"admin@llantasymastc.com","http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier":"17","userId":"17","Permission":["Crear Facturas","Ver Costos","Ver Utilidades","Programar Inventario","Gestion Completa","Editar Productos","Eliminar Productos","Ajustar Stock","Ver Reportes","Gestion Usuarios","VerCostos","VerUtilidades","ProgramarInventario","Iniciar Inventario","Completar Inventario","Descargar Reportes","Ver Facturación","Editar Clientes","Ver Productos","Ver Historial Inventarios Completo","CompletarFacturas","EditarFacturas","AnularFacturas","Crear Clientes","Ver Clientes","Eliminar Clientes","Entregar Pendientes","Prueba","Menu_Inventario","Sub_Menu_VerProductos","Sub_Menu_AgregarProductos","Sub_Menu_ProgramarInventario","Sub_Menu_HistorialInventario","Menu_Ventas","Sub_Menu_Clientes","Sub_Menu_Facturación","Sub_Menu_ReportesVentas","Sub_Menu_EntregasPendientes","Menu_Proveedores","Sub_Menu_GestionProveedores","Sub_Menu_PedidosProveedores","Menu_Reportes","Sub_Menu_ExportarExcel","Sub_Menu_ExportarPDF","Menu_Configuración","Sub_Menu_RolesPermisos","Sub_Menu_GestionUsuarios","Menu_HerramientasSistemaDEV","Sub_Menu_DiagnosticoPermisosDEV","Sub_Menu_LogsSistemaDEV","Ver Historial Inventarios","Ver Detalle Producto","Configuracion","Crear Anuncios","Menu_Servicios","Ver Servicios","Editar Servicios"],"exp":1757220917,"iss":"Tuco.API","aud":"Tuco.Client"}
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Clientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Propiedades disponibles en el token:
API.Controllers.DashboardController: Information: 📊 Usuarios conectados: 1 usuarios con 19 sesiones activas
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: Administrador
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Eliminar Clientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: admin@llantasymastc.com
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Entregar Pendientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Prueba
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Received HTTP response headers after 50.4551ms - 200
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Inventario
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   userId: 17
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_VerProductos
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: End processing HTTP request after 55.7399ms - 200
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_AgregarProductos
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   Permission: [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
 ...
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ProgramarInventario
GestionLlantera.Web.Services.DashboardService: Information: 👥 Respuesta de usuarios conectados recibida: {"success":true,"totalUsuarios":1,"totalSesiones":19,"usuarios":[{"usuarioId":17,"nombreUsuario":"Administrador","ultimaSesion":"2025-09-06T21:55:17.51","sesionesActivas":19,"tiempoConectadoMinutos":2,"estado":"Activo"}],"mensaje":"1 usuario conectado"}
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_HistorialInventario
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   exp: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Ventas
GestionLlantera.Web.Controllers.DashboardController: Information: ✅ Usuarios conectados obtenidos correctamente
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Clientes
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   iss: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_Facturación
GestionLlantera.Web.Services.FacturacionService: Information: 🔍   aud: Tuco.Client
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ReportesVentas
GestionLlantera.Web.Services.FacturacionService: Information: 🔍 Permisos encontrados en campo 'Permission': [
  "Crear Facturas",
  "Ver Costos",
  "Ver Utilidades",
  "Programar Inventario",
  "Gestion Completa",
  "Editar Productos",
  "Eliminar Productos",
  "Ajustar Stock",
  "Ver Reportes",
  "Gestion Usuarios",
  "VerCostos",
  "VerUtilidades",
  "ProgramarInventario",
  "Iniciar Inventario",
  "Completar Inventario",
  "Descargar Reportes",
  "Ver Facturación",
  "Editar Clientes",
  "Ver Productos",
  "Ver Historial Inventarios Completo",
  "CompletarFacturas",
  "EditarFacturas",
  "AnularFacturas",
  "Crear Clientes",
  "Ver Clientes",
  "Eliminar Clientes",
  "Entregar Pendientes",
  "Prueba",
  "Menu_Inventario",
  "Sub_Menu_VerProductos",
  "Sub_Menu_AgregarProductos",
  "Sub_Menu_ProgramarInventario",
  "Sub_Menu_HistorialInventario",
  "Menu_Ventas",
  "Sub_Menu_Clientes",
  "Sub_Menu_Facturación",
  "Sub_Menu_ReportesVentas",
  "Sub_Menu_EntregasPendientes",
  "Menu_Proveedores",
  "Sub_Menu_GestionProveedores",
  "Sub_Menu_PedidosProveedores",
  "Menu_Reportes",
  "Sub_Menu_ExportarExcel",
  "Sub_Menu_ExportarPDF",
  "Menu_Configuración",
  "Sub_Menu_RolesPermisos",
  "Sub_Menu_GestionUsuarios",
  "Menu_HerramientasSistemaDEV",
  "Sub_Menu_DiagnosticoPermisosDEV",
  "Sub_Menu_LogsSistemaDEV",
  "Ver Historial Inventarios",
  "Ver Detalle Producto",
  "Configuracion",
  "Crear Anuncios",
  "Menu_Servicios",
  "Ver Servicios",
  "Editar Servicios"
]
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_EntregasPendientes
✅ Contador del sidebar actualizado: 1 usuarios
✅ Panel de usuarios conectados (sidebar) actualizado
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Proveedores
GestionLlantera.Web.Services.FacturacionService: Information: 🔐 Permisos extraídos del token: Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionProveedores
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Usuario tiene permiso CompletarFacturas - Estado: Pagada
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_PedidosProveedores
GestionLlantera.Web.Services.FacturacionService: Information: 📋 Estado de factura asignado: Pagada
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Reportes
GestionLlantera.Web.Services.FacturacionService: Information: ✅ Validación de productos exitosa: se encontraron productos en la factura
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarExcel
GestionLlantera.Web.Services.FacturacionService: Information: 📤 JSON enviado a API: {"FacturaId":0,"NumeroFactura":"","ClienteId":14,"NombreCliente":"Ulises Monge Aguilar","IdentificacionCliente":"3-0435-0539","TelefonoCliente":"6282-8588","EmailCliente":"umongegds@gmail.com","DireccionCliente":"Limon Costa Rica","FechaFactura":"2025-09-07T03:57:20","FechaVencimiento":null,"Subtotal":12000.0,"DescuentoGeneral":0.0,"PorcentajeImpuesto":13.0,"MontoImpuesto":1560.0,"Total":13560.0,"Estado":"Pagada","TipoDocumento":"Factura","MetodoPago":"efectivo","DetallesPago":[],"EsPagoMultiple":false,"Observaciones":"Convertido desde proforma PROF-202509-000002","UsuarioCreadorId":17,"UsuarioCreadorNombre":null,"FechaCreacion":"0001-01-01T00:00:00","FechaActualizacion":null,"DetallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}],"SubtotalSinDescuento":12000.0,"MontoDescuentoTotal":0.0,"SubtotalConDescuento":12000.0,"ImpuestoCalculado":1560.0,"TotalCalculado":13560.0,"CantidadItems":1,"EsProforma":false,"numeroFactura":"FAC-202509-353653","fechaCreacion":"2025-09-06T21:57:23","estado":"Pagada","nombreCliente":"Ulises Monge Aguilar","detallesFactura":[{"DetalleFacturaId":0,"FacturaId":0,"ProductoId":0,"ServicioId":null,"NombreProducto":"[SERVICIO] Cambio de Aceite - Mantenimiento","DescripcionProducto":"","Cantidad":1,"PrecioUnitario":12000.0,"PorcentajeDescuento":0.0,"MontoDescuento":0.0,"Subtotal":12000.0,"EsServicio":false,"StockDisponible":0,"EsLlanta":false,"MedidaLlanta":null,"MarcaLlanta":null,"ModeloLlanta":null,"SubtotalSinDescuento":12000.0,"DescuentoCalculado":0.0,"SubtotalConDescuento":12000.0,"TieneDescuento":false,"StockSuficiente":false,"TieneProductoOServicio":true,"EsValido":true}]}
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_ExportarPDF
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Configuración
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_RolesPermisos
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_GestionUsuarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_HerramientasSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_DiagnosticoPermisosDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Sub_Menu_LogsSistemaDEV
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Historial Inventarios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Detalle Producto
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Configuracion
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Crear Anuncios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Menu_Servicios
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Ver Servicios
GestionLlantera.Web.Services.FacturacionService: Information: 🌐 URL construida: https://localhost:7273/api/Facturacion/facturas
System.Net.Http.HttpClient.APIClient.LogicalHandler: Information: Start processing HTTP request POST https://localhost:7273/api/Facturacion/facturas
System.Net.Http.HttpClient.APIClient.ClientHandler: Information: Sending HTTP request POST https://localhost:7273/api/Facturacion/facturas
API.Controllers.NotificacionesController: Information: Claim Type: Permission, Value: Editar Servicios
API.Controllers.NotificacionesController: Information: Claim Type: exp, Value: 1757220917
API.Controllers.NotificacionesController: Information: Claim Type: iss, Value: Tuco.API
API.Controllers.NotificacionesController: Information: Claim Type: aud, Value: Tuco.Client
API.Controllers.NotificacionesController: Information: Usuario ID obtenido del claim 'userId': 17
ValidarPermisoAsync: Information: 🔍 === INICIO VALIDACIÓN DE PERMISO ===
ValidarPermisoAsync: Information: 🔍 Permiso solicitado: 'Crear Facturas'
ValidarPermisoAsync: Information: 🔍 Usuario: Administrador
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notificaciones] AS [n]
WHERE [n].[UsuarioId] = @__userId_Value_0 AND [n].[Leida] = CAST(0 AS bit) AND [n].[EsVisible] = CAST(1 AS bit)
ValidarPermisoAsync: Information: 🔍 Controlador: FacturacionController
API.Controllers.NotificacionesController: Information: Usuario 17 tiene 0 notificaciones no leídas
ValidarPermisoAsync: Information: 🔍 Acción: CrearFactura
ValidarPermisoAsync: Information: 🔍 ID Usuario obtenido: 17
System.Net.Http.HttpClient.Default.ClientHandler: Information: Received HTTP response headers after 12896.5918ms - 200
ValidarPermisoAsync: Information: 🔍 Es administrador: False
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
System.Net.Http.HttpClient.Default.LogicalHandler: Information: End processing HTTP request after 12901.3741ms - 200
TienePermisoAsync: Information: 🔎 Permiso: 'Crear Facturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (2ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'Crear Facturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'Crear Facturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
ValidarPermisoAsync: Information: 🔍 Resultado TienePermisoAsync: True
ValidarPermisoAsync: Information: ✅ PERMISO CONCEDIDO - Usuario: Administrador, Permiso: Crear Facturas
ValidarPermisoAsync: Information: 🔍 === FIN VALIDACIÓN DE PERMISO (EXITOSA) ===
API.Controllers.FacturacionController: Information: 💰 Usuario Administrador creando factura para cliente: Ulises Monge Aguilar
TienePermisoAsync: Information: 🔎 === VERIFICANDO PERMISO ===
TienePermisoAsync: Information: 🔎 Permiso: 'CompletarFacturas'
TienePermisoAsync: Information: 🔎 Usuario autenticado: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 === INICIO VERIFICACIÓN PERMISO EN SERVICE ===
API.ServicesAPI.PermisosService: Information: 🔍 Permiso solicitado: 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 Usuario Identity: Administrador
API.ServicesAPI.PermisosService: Information: 🔍 ID Usuario extraído: 17
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (0ms) [Parameters=[@__userId_Value_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SesionUsuario] AS [s]
        WHERE [s].[UsuarioID] = @__userId_Value_0 AND [s].[EstaActiva] = CAST(1 AS bit)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
API.ServicesAPI.PermisosService: Information: 🔍 Es administrador: False
API.ServicesAPI.PermisosService: Information: 🔍 Buscando en caché con key: permisos_usuario_17
API.ServicesAPI.PermisosService: Information: ✅ Permisos encontrados en caché para usuario 17
API.ServicesAPI.PermisosService: Information: 🔍 Total permisos del usuario: 57
API.ServicesAPI.PermisosService: Information: 🔍 Permisos del usuario: [Crear Facturas, Ver Costos, Ver Utilidades, Programar Inventario, Gestion Completa, Editar Productos, Eliminar Productos, Ajustar Stock, Ver Reportes, Gestion Usuarios, VerCostos, VerUtilidades, ProgramarInventario, Iniciar Inventario, Completar Inventario, Descargar Reportes, Ver Facturación, Editar Clientes, Ver Productos, Ver Historial Inventarios Completo, CompletarFacturas, EditarFacturas, AnularFacturas, Crear Clientes, Ver Clientes, Eliminar Clientes, Entregar Pendientes, Prueba, Menu_Inventario, Sub_Menu_VerProductos, Sub_Menu_AgregarProductos, Sub_Menu_ProgramarInventario, Sub_Menu_HistorialInventario, Menu_Ventas, Sub_Menu_Clientes, Sub_Menu_Facturación, Sub_Menu_ReportesVentas, Sub_Menu_EntregasPendientes, Menu_Proveedores, Sub_Menu_GestionProveedores, Sub_Menu_PedidosProveedores, Menu_Reportes, Sub_Menu_ExportarExcel, Sub_Menu_ExportarPDF, Menu_Configuración, Sub_Menu_RolesPermisos, Sub_Menu_GestionUsuarios, Menu_HerramientasSistemaDEV, Sub_Menu_DiagnosticoPermisosDEV, Sub_Menu_LogsSistemaDEV, Ver Historial Inventarios, Ver Detalle Producto, Configuracion, Crear Anuncios, Menu_Servicios, Ver Servicios, Editar Servicios]
API.ServicesAPI.PermisosService: Information: 🔍 Coincidencia exacta con 'CompletarFacturas': True
API.ServicesAPI.PermisosService: Information: 🔍 RESULTADO FINAL: Usuario 17 TIENE permiso 'CompletarFacturas'
API.ServicesAPI.PermisosService: Information: 🔍 === FIN VERIFICACIÓN PERMISO EN SERVICE ===
TienePermisoAsync: Information: 🔎 Resultado del servicio: True
TienePermisoAsync: Information: 🔎 === FIN VERIFICACIÓN PERMISO ===
API.Controllers.FacturacionController: Information: ✅ Usuario autorizado envió factura como PAGADA
API.Controllers.FacturacionController: Information: 🔐 Estado inicial determinado: Pagada (Usuario puede completar: True, Estado enviado: Pagada)
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@__tipoDocumento_0='?' (Size = 20), @__año_1='?' (DbType = Int32), @__mes_2='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SELECT COUNT(*)
FROM [Facturas] AS [f]
WHERE [f].[TipoDocumento] = @__tipoDocumento_0 AND DATEPART(year, [f].[FechaFactura]) = @__año_1 AND DATEPART(month, [f].[FechaFactura]) = @__mes_2
Microsoft.EntityFrameworkCore.Database.Command: Information: Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 300), @p3='?' (Size = 200), @p4='?' (Size = 20), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (Size = 50), @p10='?' (Size = 50), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 200), @p13='?' (Size = 50), @p14='?' (Size = 500), @p15='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p17='?' (Size = 20), @p18='?' (Size = 20), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Facturas] ([ClienteId], [DescuentoGeneral], [DireccionCliente], [EmailCliente], [Estado], [FechaActualizacion], [FechaCreacion], [FechaFactura], [FechaVencimiento], [IdentificacionCliente], [MetodoPago], [MontoImpuesto], [NombreCliente], [NumeroFactura], [Observaciones], [PorcentajeImpuesto], [Subtotal], [TelefonoCliente], [TipoDocumento], [Total], [UsuarioCreadorId])
OUTPUT INSERTED.[FacturaId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
API.Controllers.FacturacionController: Information: 💳 Detalle de pago único creado: efectivo - ₡13560.000
'API.exe' (CoreCLR: clrhost): 'C:\Program Files\Microsoft Visual Studio\2022\Community\Common7\IDE\PrivateAssemblies\Runtime\Microsoft.VisualStudio.Debugger.Runtime.NetCoreApp.dll' cargado. 
